
> dnd-tracker-next-js@0.2.0 test
> jest

=== JEST GLOBAL SETUP ===
Starting in-memory MongoDB server for tests
Started in-memory MongoDB at mongodb://127.0.0.1:34849/
✅ MongoDB environment variables validated
MongoDB configured: mongodb://127.0.0.1:34849/, DB: testdb
=== JEST GLOBAL SETUP COMPLETE ===
PASS src/app/api/auth/__tests__/reset-password-request.test.ts
  ● Console

    console.error
      Password reset request error: Error: Network error
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/app/api/auth/__tests__/reset-password-request.test.ts:292:28)
          at Promise.finally.completed (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:494:12)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/app/api/auth/reset-password-request/route.ts:51:13)
      at Object.<anonymous> (src/app/api/auth/__tests__/reset-password-request.test.ts:295:24)

    console.error
      Password reset request error: Error: Invalid JSON
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/app/api/auth/__tests__/reset-password-request.test.ts:310:49)
          at Promise.finally.completed (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:494:12)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/app/api/auth/reset-password-request/route.ts:51:13)
      at Object.<anonymous> (src/app/api/auth/__tests__/reset-password-request.test.ts:312:24)

    console.error
      Password reset request error: TypeError: Cannot read properties of null (reading 'success')
          at success (/home/doug/dev/dnd-tracker-next-js/src/app/api/auth/reset-password-request/route.ts:16:17)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/app/api/auth/__tests__/reset-password-request.test.ts:327:24)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/app/api/auth/reset-password-request/route.ts:51:13)
      at Object.<anonymous> (src/app/api/auth/__tests__/reset-password-request.test.ts:327:24)

PASS src/app/api/auth/__tests__/resend-verification.test.ts
  ● Console

    console.error
      Resend verification error: Error: Network error
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/app/api/auth/__tests__/resend-verification.test.ts:334:28)
          at Promise.finally.completed (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:494:12)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/app/api/auth/resend-verification/route.ts:53:13)
      at Object.<anonymous> (src/app/api/auth/__tests__/resend-verification.test.ts:337:24)

    console.error
      Resend verification error: Error: Invalid JSON
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/app/api/auth/__tests__/resend-verification.test.ts:352:49)
          at Promise.finally.completed (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:494:12)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/app/api/auth/resend-verification/route.ts:53:13)
      at Object.<anonymous> (src/app/api/auth/__tests__/resend-verification.test.ts:354:24)

    console.error
      Resend verification error: TypeError: Cannot read properties of null (reading 'success')
          at success (/home/doug/dev/dnd-tracker-next-js/src/app/api/auth/resend-verification/route.ts:18:17)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/app/api/auth/__tests__/resend-verification.test.ts:369:24)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/app/api/auth/resend-verification/route.ts:53:13)
      at Object.<anonymous> (src/app/api/auth/__tests__/resend-verification.test.ts:369:24)

    console.error
      Resend verification error: TypeError: Cannot read properties of undefined (reading 'success')
          at success (/home/doug/dev/dnd-tracker-next-js/src/app/api/auth/resend-verification/route.ts:18:17)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/app/api/auth/__tests__/resend-verification.test.ts:385:24)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/app/api/auth/resend-verification/route.ts:53:13)
      at Object.<anonymous> (src/app/api/auth/__tests__/resend-verification.test.ts:385:24)

PASS src/app/api/encounters/[id]/combat/__tests__/turn-management-api.test.ts
PASS src/app/api/encounters/import/__tests__/route.test.ts
  ● Console

    console.error
      Import error: Error: Service error
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/app/api/encounters/import/__tests__/route.test.ts:225:52)
          at Promise.finally.completed (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:494:12)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/app/api/encounters/import/route.ts:68:11)
      at handleImportError (src/app/api/encounters/import/route.ts:43:12)
      at Object.<anonymous> (src/app/api/encounters/import/__tests__/route.test.ts:231:24)

    console.error
      Import error: ZodError: [
        {
          "code": "too_small",
          "minimum": 1,
          "type": "string",
          "inclusive": true,
          "exact": false,
          "message": "Import data is required",
          "path": [
            "data"
          ]
        }
      ]
          at Object.get error [as error] (/home/doug/dev/dnd-tracker-next-js/node_modules/zod/v3/types.cjs:45:31)
          at ZodObject.parse (/home/doug/dev/dnd-tracker-next-js/node_modules/zod/v3/types.cjs:120:22)
          at parse (/home/doug/dev/dnd-tracker-next-js/src/app/api/encounters/import/route.ts:19:44)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/app/api/encounters/import/__tests__/route.test.ts:243:24) {
        issues: [
          {
            code: 'too_small',
            minimum: 1,
            type: 'string',
            inclusive: true,
            exact: false,
            message: 'Import data is required',
            path: [Array]
          }
        ],
        addIssue: [Function (anonymous)],
        addIssues: [Function (anonymous)],
        errors: [
          {
            code: 'too_small',
            minimum: 1,
            type: 'string',
            inclusive: true,
            exact: false,
            message: 'Import data is required',
            path: [Array]
          }
        ]
      }

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/app/api/encounters/import/route.ts:68:11)
      at handleImportError (src/app/api/encounters/import/route.ts:43:12)
      at Object.<anonymous> (src/app/api/encounters/import/__tests__/route.test.ts:243:24)

    console.error
      Import error: Error: Invalid JSON
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/app/api/encounters/import/__tests__/route.test.ts:256:43)
          at Promise.finally.completed (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:494:12)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/app/api/encounters/import/route.ts:68:11)
      at handleImportError (src/app/api/encounters/import/route.ts:43:12)
      at Object.<anonymous> (src/app/api/encounters/import/__tests__/route.test.ts:263:24)

PASS src/app/api/auth/__tests__/reset-password.test.ts
  ● Console

    console.error
      Password reset error: Error: Network error
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/app/api/auth/__tests__/reset-password.test.ts:159:45)
          at Promise.finally.completed (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:494:12)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/app/api/auth/reset-password/route.ts:51:13)
      at Object.<anonymous> (src/app/api/auth/__tests__/reset-password.test.ts:162:24)

    console.error
      Password reset error: Error: Invalid JSON
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/app/api/auth/__tests__/reset-password.test.ts:168:49)
          at Promise.finally.completed (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:494:12)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/app/api/auth/reset-password/route.ts:51:13)
      at Object.<anonymous> (src/app/api/auth/__tests__/reset-password.test.ts:170:24)

    console.error
      Password reset error: TypeError: Cannot read properties of null (reading 'success')
          at success (/home/doug/dev/dnd-tracker-next-js/src/app/api/auth/reset-password/route.ts:16:17)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/app/api/auth/__tests__/reset-password.test.ts:178:24)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/app/api/auth/reset-password/route.ts:51:13)
      at Object.<anonymous> (src/app/api/auth/__tests__/reset-password.test.ts:178:24)

PASS src/app/api/encounters/[id]/combat/__tests__/initiative-rolling-api.test.ts
  ● Console

    console.error
      Error rerolling initiative: Error: No initiative order found. Roll initiative first.
          at validateInitiativeOrder (/home/doug/dev/dnd-tracker-next-js/src/app/api/encounters/[id]/combat/reroll-initiative/route.ts:10:11)
          at validateInitiativeOrder (/home/doug/dev/dnd-tracker-next-js/src/app/api/encounters/[id]/combat/reroll-initiative/route.ts:70:5)
          at handler (/home/doug/dev/dnd-tracker-next-js/src/app/api/encounters/[id]/combat/api-wrapper.ts:92:28)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at runStandardApiTest (/home/doug/dev/dnd-tracker-next-js/src/app/api/encounters/[id]/combat/__tests__/api-test-helpers.ts:246:20)
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/app/api/encounters/[id]/combat/__tests__/initiative-rolling-api.test.ts:168:36)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/app/api/encounters/[id]/combat/utils.ts:106:11)
      at src/app/api/encounters/[id]/combat/api-wrapper.ts:108:30
      at runStandardApiTest (src/app/api/encounters/[id]/combat/__tests__/api-test-helpers.ts:246:20)
      at Object.<anonymous> (src/app/api/encounters/[id]/combat/__tests__/initiative-rolling-api.test.ts:168:36)

PASS src/app/api/auth/__tests__/verify-email.test.ts
  ● Console

    console.error
      Email verification error: Error: Database connection failed
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/app/api/auth/__tests__/verify-email.test.ts:119:43)
          at Promise.finally.completed (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:494:12)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/app/api/auth/verify-email/route.ts:52:13)
      at Object.<anonymous> (src/app/api/auth/__tests__/verify-email.test.ts:122:24)

    console.error
      Email verification error: Error: Invalid JSON
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/app/api/auth/__tests__/verify-email.test.ts:128:49)
          at Promise.finally.completed (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:494:12)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/app/api/auth/verify-email/route.ts:52:13)
      at Object.<anonymous> (src/app/api/auth/__tests__/verify-email.test.ts:130:24)

PASS src/app/api/encounters/[id]/export/__tests__/route.test.ts
  ● Console

    console.error
      Export error: Error: Service error
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/app/api/encounters/[id]/export/__tests__/route.test.ts:148:50)
          at Promise.finally.completed (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:494:12)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/app/api/encounters/[id]/export/route.ts:66:13)
      at Object.<anonymous> (src/app/api/encounters/[id]/export/__tests__/route.test.ts:156:24)

    console.error
      Export error: ZodError: [
        {
          "received": "invalid",
          "code": "invalid_enum_value",
          "options": [
            "json",
            "xml"
          ],
          "path": [
            "format"
          ],
          "message": "Invalid enum value. Expected 'json' | 'xml', received 'invalid'"
        }
      ]
          at Object.get error [as error] (/home/doug/dev/dnd-tracker-next-js/node_modules/zod/v3/types.cjs:45:31)
          at ZodObject.parse (/home/doug/dev/dnd-tracker-next-js/node_modules/zod/v3/types.cjs:120:22)
          at parse (/home/doug/dev/dnd-tracker-next-js/src/app/api/encounters/[id]/export/route.ts:22:46)
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/app/api/encounters/[id]/export/__tests__/route.test.ts:173:33)
          at Promise.finally.completed (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:494:12) {
        issues: [
          {
            received: 'invalid',
            code: 'invalid_enum_value',
            options: [Array],
            path: [Array],
            message: "Invalid enum value. Expected 'json' | 'xml', received 'invalid'"
          }
        ],
        addIssue: [Function (anonymous)],
        addIssues: [Function (anonymous)],
        errors: [
          {
            received: 'invalid',
            code: 'invalid_enum_value',
            options: [Array],
            path: [Array],
            message: "Invalid enum value. Expected 'json' | 'xml', received 'invalid'"
          }
        ]
      }

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/app/api/encounters/[id]/export/route.ts:66:13)
      at Object.<anonymous> (src/app/api/encounters/[id]/export/__tests__/route.test.ts:173:33)

PASS src/app/api/users/[id]/profile/__tests__/route.test.ts
PASS src/app/api/characters/[id]/__tests__/route.test.ts
  ● Console

    console.error
      GET /api/characters/[id] error: Error: access denied
          at setupAccessDeniedError (/home/doug/dev/dnd-tracker-next-js/src/app/api/characters/__tests__/shared-test-utils.ts:69:23)
          at setupMock (/home/doug/dev/dnd-tracker-next-js/src/app/api/characters/__tests__/shared-test-utils.ts:142:3)
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/app/api/characters/[id]/__tests__/route.test.ts:58:32)
          at Promise.finally.completed (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:494:12)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/app/api/characters/helpers/route-helpers.ts:70:11)
      at GET (src/app/api/characters/[id]/route.ts:23:28)
      at runAccessDeniedTest (src/app/api/characters/__tests__/shared-test-utils.ts:144:20)
      at Object.<anonymous> (src/app/api/characters/[id]/__tests__/route.test.ts:58:7)

    console.error
      PUT /api/characters/[id] error: Error: access denied
          at setupAccessDeniedError (/home/doug/dev/dnd-tracker-next-js/src/app/api/characters/__tests__/shared-test-utils.ts:69:23)
          at setupMock (/home/doug/dev/dnd-tracker-next-js/src/app/api/characters/__tests__/shared-test-utils.ts:142:3)
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/app/api/characters/[id]/__tests__/route.test.ts:111:32)
          at Promise.finally.completed (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:494:12)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/app/api/characters/helpers/route-helpers.ts:70:11)
      at PUT (src/app/api/characters/[id]/route.ts:40:28)
      at runAccessDeniedTest (src/app/api/characters/__tests__/shared-test-utils.ts:144:20)
      at Object.<anonymous> (src/app/api/characters/[id]/__tests__/route.test.ts:111:7)

    console.error
      DELETE /api/characters/[id] error: Error: access denied
          at setupAccessDeniedError (/home/doug/dev/dnd-tracker-next-js/src/app/api/characters/__tests__/shared-test-utils.ts:69:23)
          at setupMock (/home/doug/dev/dnd-tracker-next-js/src/app/api/characters/__tests__/shared-test-utils.ts:142:3)
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/app/api/characters/[id]/__tests__/route.test.ts:138:32)
          at Promise.finally.completed (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:494:12)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/app/api/characters/helpers/route-helpers.ts:70:11)
      at DELETE (src/app/api/characters/[id]/route.ts:53:28)
      at runAccessDeniedTest (src/app/api/characters/__tests__/shared-test-utils.ts:144:20)
      at Object.<anonymous> (src/app/api/characters/[id]/__tests__/route.test.ts:138:7)

PASS src/app/api/encounters/[id]/settings/__tests__/route.test.ts
  ● Console

    console.error
      Error updating encounter settings: Error: Unexpected error
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/app/api/encounters/[id]/settings/__tests__/route.test.ts:88:26)
          at Promise.finally.completed (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:494:12)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/app/api/encounters/[id]/settings/route.ts:89:11)
      at handleUnexpectedError (src/app/api/encounters/[id]/settings/route.ts:116:12)
      at Object.<anonymous> (src/app/api/encounters/[id]/settings/__tests__/route.test.ts:91:22)

PASS src/app/api/characters/__tests__/route.test.ts
PASS src/app/api/auth/__tests__/register.test.ts
  ● Console

    console.error
      Registration error: Error: Unexpected error
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/app/api/auth/__tests__/register.test.ts:118:26)
          at Promise.finally.completed (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:494:12)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/app/api/auth/register/route.ts:55:13)
      at Object.<anonymous> (src/app/api/auth/__tests__/register.test.ts:121:22)

PASS src/components/modals/__tests__/ModalManager.test.tsx
PASS src/components/encounter/__tests__/EncounterTable.test.tsx
PASS src/components/modals/__tests__/Modal.test.tsx
PASS src/components/modals/__tests__/InfoModal.test.tsx
PASS src/components/combat/__tests__/QuickActions.test.tsx
PASS src/components/combat/__tests__/CombatToolbar.test.tsx
PASS src/components/modals/__tests__/ConfirmationDialog.test.tsx
PASS src/components/combat/round-tracking/__tests__/RoundHistory.test.tsx
PASS src/components/layout/__tests__/AppLayout.test.tsx
PASS src/components/encounter/__tests__/EncounterListView.test.tsx
PASS src/components/forms/character/__tests__/hooks/useCharacterSubmit.test.ts
PASS src/components/combat/round-tracking/__tests__/round-utils.test.ts
PASS src/components/__tests__/theme-toggle.test.tsx
PASS src/components/encounter/__tests__/CharacterLibraryIntegration.test.tsx (6.132 s)
PASS src/components/__tests__/theme-system-integration.test.tsx
PASS src/components/modals/__tests__/FormModal.test.tsx
  ● Console

    console.error
      Warning: Invalid value for prop `reset` on <form> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://reactjs.org/link/attribute-behavior 
          at form
          at children (/home/doug/dev/dnd-tracker-next-js/src/components/modals/__tests__/FormModal.test.tsx:47:5)
          at div
          at div
          at children (/home/doug/dev/dnd-tracker-next-js/src/components/modals/__tests__/FormModal.test.tsx:15:5)
          at _open (/home/doug/dev/dnd-tracker-next-js/src/components/modals/FormModal.tsx:31:9)
          at div
          at children (/home/doug/dev/dnd-tracker-next-js/src/components/modals/__tests__/test-utils.tsx:50:28)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnUnknownProperties (node_modules/react-dom/cjs/react-dom.development.js:3815:7)
      at validateProperties$2 (node_modules/react-dom/cjs/react-dom.development.js:3827:3)
      at validatePropertiesInDevelopment (node_modules/react-dom/cjs/react-dom.development.js:9541:5)
      at setInitialProperties (node_modules/react-dom/cjs/react-dom.development.js:9830:5)
      at finalizeInitialChildren (node_modules/react-dom/cjs/react-dom.development.js:10950:3)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22232:17)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26632:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26607:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at customRender (src/components/modals/__tests__/test-utils.tsx:58:12)
      at Object.<anonymous> (src/components/modals/__tests__/FormModal.test.tsx:258:34)

PASS src/components/layout/__tests__/Breadcrumbs.test.tsx
PASS src/components/encounter/__tests__/EncounterParticipantManager.test.tsx
  ● Console

    console.log
      [Success] Participant added successfully

      at log (src/components/encounter/utils/serviceOperationUtils.ts:67:15)

    console.log
      [Success] Participant removed successfully

      at log (src/components/encounter/utils/serviceOperationUtils.ts:67:15)

    console.log
      [Success] Participant updated successfully

      at log (src/components/encounter/utils/serviceOperationUtils.ts:67:15)

    console.log
      [Success] Participant updated successfully

      at log (src/components/encounter/utils/serviceOperationUtils.ts:67:15)

    console.log
      [Success] Participant removed successfully

      at log (src/components/encounter/utils/serviceOperationUtils.ts:67:15)

    console.error
      [Error] Failed to add participant

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/components/encounter/utils/serviceOperationUtils.ts:70:15)
      at src/components/encounter/hooks/useParticipantOperations.ts:47:7
      at src/components/encounter/hooks/useParticipantOperations.ts:35:7
      at src/components/encounter/hooks/useParticipantOperations.ts:46:5
      at src/components/encounter/hooks/useParticipantOperations.ts:65:5
      at src/components/encounter/EncounterParticipantManager.tsx:86:5

    console.error
      [Error] Network error

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/components/encounter/utils/serviceOperationUtils.ts:70:15)
      at src/components/encounter/hooks/useParticipantOperations.ts:47:7
      at src/components/encounter/hooks/useParticipantOperations.ts:35:7
      at src/components/encounter/hooks/useParticipantOperations.ts:46:5
      at src/components/encounter/hooks/useParticipantOperations.ts:65:5
      at src/components/encounter/EncounterParticipantManager.tsx:86:5

PASS src/components/forms/character/__tests__/sections/BasicInfoSection.test.tsx
PASS src/components/forms/character/__tests__/sections/AbilityScoresSection.test.tsx
PASS src/components/__tests__/theme-provider.test.tsx
PASS src/components/forms/character/__tests__/hooks/useCharacterForm.validation.test.ts
PASS src/components/layout/__tests__/MobileMenu.test.tsx
PASS src/components/encounter/__tests__/EncounterFilters.test.tsx
PASS src/components/encounter/hooks/utils/__tests__/dataFetchHelpers.test.ts
PASS src/components/character/__tests__/CharacterListView.test.tsx
PASS src/components/encounter/__tests__/hooks/useEncounterData.test.ts
PASS src/components/encounter/__tests__/EncounterCard.test.tsx
PASS src/components/forms/character/__tests__/sections/CombatStatsSection.validation.test.tsx
PASS src/components/character/__tests__/CharacterAutosave.test.tsx
PASS src/app/encounters/[id]/components/__tests__/EncounterSettings.test.tsx
PASS src/components/forms/character/__tests__/NPCCreationForm.test.tsx
  ● Console

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      93 |   describe('Basic Rendering', () => {
      94 |     it('renders the NPC creation dialog when open', () => {
    > 95 |       render(<NPCCreationForm {...testProps} />);
         |             ^
      96 |
      97 |       expect(screen.getByRole('dialog')).toBeInTheDocument();
      98 |       expect(screen.getByText('Create NPC')).toBeInTheDocument();

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/forms/character/__tests__/NPCCreationForm.test.tsx:95:13)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      107 |
      108 |     it('renders tab navigation', () => {
    > 109 |       render(<NPCCreationForm {...testProps} />);
          |             ^
      110 |
      111 |       expect(screen.getByRole('tab', { name: 'Templates' })).toBeInTheDocument();
      112 |       expect(screen.getByRole('tab', { name: 'Basic Info' })).toBeInTheDocument();

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/forms/character/__tests__/NPCCreationForm.test.tsx:109:13)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      118 |   describe('Template Tab', () => {
      119 |     it('shows template selection by default', () => {
    > 120 |       render(<NPCCreationForm {...testProps} />);
          |             ^
      121 |
      122 |       expect(screen.getByText('Search Templates')).toBeInTheDocument();
      123 |       expect(screen.getByText('Filter by Category')).toBeInTheDocument();

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/forms/character/__tests__/NPCCreationForm.test.tsx:120:13)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      125 |
      126 |     it('displays available templates', async () => {
    > 127 |       render(<NPCCreationForm {...testProps} />);
          |             ^
      128 |
      129 |       await waitFor(() => {
      130 |         expect(screen.getByText('Guard')).toBeInTheDocument();

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/forms/character/__tests__/NPCCreationForm.test.tsx:127:13)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      133 |
      134 |     it('allows template search', async () => {
    > 135 |       render(<NPCCreationForm {...testProps} />);
          |             ^
      136 |
      137 |       const searchInput = screen.getByPlaceholderText('Search by name or type...');
      138 |       await userEvent.type(searchInput, 'Guard');

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/forms/character/__tests__/NPCCreationForm.test.tsx:135:13)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      144 |   describe('Basic Info Tab', () => {
      145 |     it('shows basic info form when tab is clicked', async () => {
    > 146 |       render(<NPCCreationForm {...testProps} />);
          |             ^
      147 |
      148 |       const basicTab = screen.getByRole('tab', { name: 'Basic Info' });
      149 |       await userEvent.click(basicTab);

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/forms/character/__tests__/NPCCreationForm.test.tsx:146:13)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      157 |   describe('Stats Tab', () => {
      158 |     it('shows stats form when tab is clicked', async () => {
    > 159 |       render(<NPCCreationForm {...testProps} />);
          |             ^
      160 |
      161 |       const statsTab = screen.getByRole('tab', { name: 'Stats & Combat' });
      162 |       await userEvent.click(statsTab);

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/forms/character/__tests__/NPCCreationForm.test.tsx:159:13)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      170 |   describe('Details Tab', () => {
      171 |     it('shows details form when tab is clicked', async () => {
    > 172 |       render(<NPCCreationForm {...testProps} />);
          |             ^
      173 |
      174 |       const detailsTab = screen.getByRole('tab', { name: 'Details & Behavior' });
      175 |       await userEvent.click(detailsTab);

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/forms/character/__tests__/NPCCreationForm.test.tsx:172:13)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      183 |   describe('Form Actions', () => {
      184 |     it('calls onCancel when cancel button is clicked', async () => {
    > 185 |       render(<NPCCreationForm {...testProps} />);
          |             ^
      186 |
      187 |       // Navigate to details tab where cancel button is located
      188 |       const detailsTab = screen.getByRole('tab', { name: 'Details & Behavior' });

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/forms/character/__tests__/NPCCreationForm.test.tsx:185:13)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      196 |
      197 |     it('handles form submission', async () => {
    > 198 |       render(<NPCCreationForm {...testProps} />);
          |             ^
      199 |
      200 |       // Fill out basic info
      201 |       const basicTab = screen.getByRole('tab', { name: 'Basic Info' });

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/forms/character/__tests__/NPCCreationForm.test.tsx:198:13)

    console.log
      NPC created successfully

      at log (src/components/forms/character/NPCCreationForm.tsx:180:17)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      220 |   describe('Service Integration', () => {
      221 |     it('loads templates on mount', async () => {
    > 222 |       render(<NPCCreationForm {...testProps} />);
          |             ^
      223 |
      224 |       await waitFor(() => {
      225 |         expect(mockNPCTemplateService.getTemplates).toHaveBeenCalled();

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/forms/character/__tests__/NPCCreationForm.test.tsx:222:13)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      233 |       });
      234 |
    > 235 |       render(<NPCCreationForm {...testProps} />);
          |             ^
      236 |
      237 |       // Should not crash and should still render the form
      238 |       expect(screen.getByRole('dialog')).toBeInTheDocument();

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/forms/character/__tests__/NPCCreationForm.test.tsx:235:13)

    console.error
      Failed to load NPC templates

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/components/forms/character/NPCCreationForm.tsx:55:17)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      245 |       });
      246 |
    > 247 |       render(<NPCCreationForm {...testProps} />);
          |             ^
      248 |
      249 |       // Fill out basic info
      250 |       const basicTab = screen.getByRole('tab', { name: 'Basic Info' });

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/forms/character/__tests__/NPCCreationForm.test.tsx:247:13)

    console.error
      Failed to create character

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/components/forms/character/NPCCreationForm.tsx:183:17)

PASS src/components/encounter/__tests__/hooks/useEncounterSelection.test.ts
PASS src/components/forms/__tests__/form-validation.test.ts
PASS src/components/encounter/__tests__/EncounterGrid.test.tsx
PASS src/components/encounter/actions/__tests__/DeleteDialog.test.tsx
PASS src/components/forms/character/npc/__tests__/NPCFormHelpers.test.ts
PASS src/components/character/CharacterStatsManager.test.tsx
PASS src/components/layout/__tests__/Sidebar.test.tsx
PASS src/components/encounter/__tests__/BatchActions.test.tsx
PASS src/components/forms/character/__tests__/sections/ClassesSection.interactions.test.tsx
PASS src/components/combat/__tests__/InitiativeTracker.test.tsx
PASS src/components/encounter/__tests__/EncounterActionButtons.test.tsx
PASS src/components/forms/__tests__/validation-rules.test.ts
PASS src/components/encounter/__tests__/hooks/useEncounterFilters.test.ts
PASS src/components/encounter/table/__tests__/TableRow.test.tsx
  ● Console

    console.log
      View encounter: test-encounter-id

      at log (src/components/encounter/table/TableRow.tsx:32:13)

    console.log
      View encounter: test-encounter-id

      at log (src/components/encounter/table/TableRow.tsx:32:13)

    console.log
      View encounter: test-encounter-id

      at log (src/components/encounter/table/TableRow.tsx:32:13)

    console.log
      View encounter: test-encounter-id

      at log (src/components/encounter/table/TableRow.tsx:32:13)

    console.log
      View encounter: test-encounter-id

      at log (src/components/encounter/table/TableRow.tsx:32:13)

PASS src/components/forms/character/__tests__/sections/CombatStatsSection.rendering.test.tsx
PASS src/components/forms/character/__tests__/sections/CombatStatsSection.interactions.test.tsx
PASS src/components/encounter/table/__tests__/TableCells.test.tsx
PASS src/components/character/__tests__/CharacterDeletion.test.tsx
  ● Console

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      14 |   ui: React.ReactElement,
      15 |   options?: Omit<RenderOptions, 'wrapper'>
    > 16 | ) => render(ui, { wrapper: AllTheProviders, ...options });
         |            ^
      17 |
      18 | // Re-export everything
      19 | export * from '@testing-library/react';

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/lib/test-utils.tsx:16:12)
      at renderCharacterDeletionDialog (src/components/character/__tests__/CharacterDeletion.test.tsx:33:27)
      at Object.renderCharacterDeletionDialog (src/components/character/__tests__/CharacterDeletion.test.tsx:44:5)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      14 |   ui: React.ReactElement,
      15 |   options?: Omit<RenderOptions, 'wrapper'>
    > 16 | ) => render(ui, { wrapper: AllTheProviders, ...options });
         |            ^
      17 |
      18 | // Re-export everything
      19 | export * from '@testing-library/react';

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/lib/test-utils.tsx:16:12)
      at renderCharacterDeletionDialog (src/components/character/__tests__/CharacterDeletion.test.tsx:33:27)
      at Object.renderCharacterDeletionDialog (src/components/character/__tests__/CharacterDeletion.test.tsx:60:5)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      14 |   ui: React.ReactElement,
      15 |   options?: Omit<RenderOptions, 'wrapper'>
    > 16 | ) => render(ui, { wrapper: AllTheProviders, ...options });
         |            ^
      17 |
      18 | // Re-export everything
      19 | export * from '@testing-library/react';

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/lib/test-utils.tsx:16:12)
      at renderCharacterDeletionDialog (src/components/character/__tests__/CharacterDeletion.test.tsx:33:27)
      at Object.renderCharacterDeletionDialog (src/components/character/__tests__/CharacterDeletion.test.tsx:72:5)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      14 |   ui: React.ReactElement,
      15 |   options?: Omit<RenderOptions, 'wrapper'>
    > 16 | ) => render(ui, { wrapper: AllTheProviders, ...options });
         |            ^
      17 |
      18 | // Re-export everything
      19 | export * from '@testing-library/react';

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/lib/test-utils.tsx:16:12)
      at renderCharacterDeletionDialog (src/components/character/__tests__/CharacterDeletion.test.tsx:33:27)
      at Object.renderCharacterDeletionDialog (src/components/character/__tests__/CharacterDeletion.test.tsx:82:5)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      14 |   ui: React.ReactElement,
      15 |   options?: Omit<RenderOptions, 'wrapper'>
    > 16 | ) => render(ui, { wrapper: AllTheProviders, ...options });
         |            ^
      17 |
      18 | // Re-export everything
      19 | export * from '@testing-library/react';

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/lib/test-utils.tsx:16:12)
      at renderCharacterDeletionDialog (src/components/character/__tests__/CharacterDeletion.test.tsx:33:27)
      at Object.renderCharacterDeletionDialog (src/components/character/__tests__/CharacterDeletion.test.tsx:98:5)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      14 |   ui: React.ReactElement,
      15 |   options?: Omit<RenderOptions, 'wrapper'>
    > 16 | ) => render(ui, { wrapper: AllTheProviders, ...options });
         |            ^
      17 |
      18 | // Re-export everything
      19 | export * from '@testing-library/react';

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/lib/test-utils.tsx:16:12)
      at renderCharacterDeletionDialog (src/components/character/__tests__/CharacterDeletion.test.tsx:33:27)
      at Object.renderCharacterDeletionDialog (src/components/character/__tests__/CharacterDeletion.test.tsx:118:5)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      14 |   ui: React.ReactElement,
      15 |   options?: Omit<RenderOptions, 'wrapper'>
    > 16 | ) => render(ui, { wrapper: AllTheProviders, ...options });
         |            ^
      17 |
      18 | // Re-export everything
      19 | export * from '@testing-library/react';

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/lib/test-utils.tsx:16:12)
      at renderCharacterDeletionDialog (src/components/character/__tests__/CharacterDeletion.test.tsx:33:27)
      at Object.renderCharacterDeletionDialog (src/components/character/__tests__/CharacterDeletion.test.tsx:137:5)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      14 |   ui: React.ReactElement,
      15 |   options?: Omit<RenderOptions, 'wrapper'>
    > 16 | ) => render(ui, { wrapper: AllTheProviders, ...options });
         |            ^
      17 |
      18 | // Re-export everything
      19 | export * from '@testing-library/react';

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/lib/test-utils.tsx:16:12)
      at renderCharacterDeletionDialog (src/components/character/__tests__/CharacterDeletion.test.tsx:33:27)
      at Object.renderCharacterDeletionDialog (src/components/character/__tests__/CharacterDeletion.test.tsx:164:5)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      14 |   ui: React.ReactElement,
      15 |   options?: Omit<RenderOptions, 'wrapper'>
    > 16 | ) => render(ui, { wrapper: AllTheProviders, ...options });
         |            ^
      17 |
      18 | // Re-export everything
      19 | export * from '@testing-library/react';

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/lib/test-utils.tsx:16:12)
      at renderCharacterDeletionDialog (src/components/character/__tests__/CharacterDeletion.test.tsx:33:27)
      at Object.renderCharacterDeletionDialog (src/components/character/__tests__/CharacterDeletion.test.tsx:178:5)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      14 |   ui: React.ReactElement,
      15 |   options?: Omit<RenderOptions, 'wrapper'>
    > 16 | ) => render(ui, { wrapper: AllTheProviders, ...options });
         |            ^
      17 |
      18 | // Re-export everything
      19 | export * from '@testing-library/react';

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/lib/test-utils.tsx:16:12)
      at renderCharacterDeletionDialog (src/components/character/__tests__/CharacterDeletion.test.tsx:33:27)
      at Object.renderCharacterDeletionDialog (src/components/character/__tests__/CharacterDeletion.test.tsx:186:5)

PASS src/components/combat/hp-tracking/__tests__/HPEditForm.test.tsx
PASS src/components/combat/hp-tracking/__tests__/useHPTracking.test.ts
PASS src/components/encounter/table/__tests__/TableHeader.test.tsx
PASS src/components/layout/__tests__/UserMenu.test.tsx
PASS src/components/forms/character/__tests__/sections/ClassesSection.validation.test.tsx
PASS src/components/landing/__tests__/TestimonialsSection.test.tsx
PASS src/components/character/__tests__/CharacterVersionHistory.test.tsx
  ● Console

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

       97 |
       98 |     const revertButton = screen.getByTestId('revert-button-version-1');
    >  99 |     await user.click(revertButton);
          |     ^
      100 |
      101 |     // Should show confirmation dialog
      102 |     expect(screen.getByTestId('revert-confirmation-dialog')).toBeInTheDocument();

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (node_modules/@testing-library/react/dist/pure.js:107:28)
      at Object.wrapEvent (node_modules/@testing-library/user-event/dist/cjs/event/wrapEvent.js:6:28)
      at Object.dispatchEvent (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:22)
      at Object.dispatchUIEvent (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:22:26)
      at Mouse.up (node_modules/@testing-library/user-event/dist/cjs/system/pointer/mouse.js:100:30)
      at PointerHost.release (node_modules/@testing-library/user-event/dist/cjs/system/pointer/index.js:87:24)
      at pointerAction (node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:54:47)
      at Object.pointer (node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:27:9)
      at Object.asyncWrapper (node_modules/@testing-library/react/dist/pure.js:88:22)
      at Object.<anonymous> (src/components/character/__tests__/CharacterVersionHistory.test.tsx:99:5)

PASS src/components/character/__tests__/CharacterComparison.test.tsx
PASS src/components/encounter/actions/__tests__/errorUtils.test.ts
PASS src/components/forms/character/__tests__/CharacterValidationForm.sections.test.tsx
PASS src/components/characters/CharacterDetailView.test.tsx
PASS src/components/forms/character/__tests__/hooks/useCharacterForm.basic.test.ts
PASS src/components/forms/character/__tests__/CharacterValidationForm.submission.test.tsx
PASS src/components/combat/round-tracking/__tests__/useRoundTracking.effects.test.ts
PASS src/components/combat/utils/__tests__/exportUtils.test.ts
PASS src/components/forms/character/__tests__/hooks/useCharacterForm.classes-combat.test.ts
PASS src/components/landing/__tests__/TestimonialCard.test.tsx
PASS src/components/forms/character/__tests__/sections/ClassesSection.rendering.test.tsx
PASS src/components/forms/character/__tests__/CharacterPreview.abilities.test.tsx
PASS src/components/landing/__tests__/PricingSection.test.tsx
PASS src/components/landing/__tests__/HeroSection.test.tsx
PASS src/components/forms/character/__tests__/CharacterPreview.combat.test.tsx
PASS src/components/combat/hp-tracking/__tests__/HPQuickButtons.test.tsx
PASS src/components/landing/__tests__/CallToActionSection.test.tsx
PASS src/components/forms/character/__tests__/CharacterPreview.basicInfo.test.tsx
PASS src/components/combat/hp-tracking/__tests__/HPEditModal.test.tsx
  ● Console

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      132 |
      133 |   return {
    > 134 |     ...render(React.createElement(HPEditModal, defaultProps)),
          |              ^
      135 |     mocks,
      136 |     participant: mockParticipant,
      137 |   };

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderHPEditModal (src/components/combat/hp-tracking/test-helpers.ts:134:14)
      at Object.<anonymous> (src/components/combat/hp-tracking/__tests__/HPEditModal.test.tsx:20:46)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      132 |
      133 |   return {
    > 134 |     ...render(React.createElement(HPEditModal, defaultProps)),
          |              ^
      135 |     mocks,
      136 |     participant: mockParticipant,
      137 |   };

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderHPEditModal (src/components/combat/hp-tracking/test-helpers.ts:134:14)
      at Object.<anonymous> (src/components/combat/hp-tracking/__tests__/HPEditModal.test.tsx:27:22)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      132 |
      133 |   return {
    > 134 |     ...render(React.createElement(HPEditModal, defaultProps)),
          |              ^
      135 |     mocks,
      136 |     participant: mockParticipant,
      137 |   };

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderHPEditModal (src/components/combat/hp-tracking/test-helpers.ts:134:14)
      at Object.<anonymous> (src/components/combat/hp-tracking/__tests__/HPEditModal.test.tsx:32:22)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      132 |
      133 |   return {
    > 134 |     ...render(React.createElement(HPEditModal, defaultProps)),
          |              ^
      135 |     mocks,
      136 |     participant: mockParticipant,
      137 |   };

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderHPEditModal (src/components/combat/hp-tracking/test-helpers.ts:134:14)
      at Object.<anonymous> (src/components/combat/hp-tracking/__tests__/HPEditModal.test.tsx:37:22)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      132 |
      133 |   return {
    > 134 |     ...render(React.createElement(HPEditModal, defaultProps)),
          |              ^
      135 |     mocks,
      136 |     participant: mockParticipant,
      137 |   };

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderHPEditModal (src/components/combat/hp-tracking/test-helpers.ts:134:14)
      at Object.<anonymous> (src/components/combat/hp-tracking/__tests__/HPEditModal.test.tsx:42:22)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      132 |
      133 |   return {
    > 134 |     ...render(React.createElement(HPEditModal, defaultProps)),
          |              ^
      135 |     mocks,
      136 |     participant: mockParticipant,
      137 |   };

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderHPEditModal (src/components/combat/hp-tracking/test-helpers.ts:134:14)
      at Object.<anonymous> (src/components/combat/hp-tracking/__tests__/HPEditModal.test.tsx:47:22)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      132 |
      133 |   return {
    > 134 |     ...render(React.createElement(HPEditModal, defaultProps)),
          |              ^
      135 |     mocks,
      136 |     participant: mockParticipant,
      137 |   };

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderHPEditModal (src/components/combat/hp-tracking/test-helpers.ts:134:14)
      at Object.<anonymous> (src/components/combat/hp-tracking/__tests__/HPEditModal.test.tsx:52:22)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      132 |
      133 |   return {
    > 134 |     ...render(React.createElement(HPEditModal, defaultProps)),
          |              ^
      135 |     mocks,
      136 |     participant: mockParticipant,
      137 |   };

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderHPEditModal (src/components/combat/hp-tracking/test-helpers.ts:134:14)
      at Object.<anonymous> (src/components/combat/hp-tracking/__tests__/HPEditModal.test.tsx:57:40)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      132 |
      133 |   return {
    > 134 |     ...render(React.createElement(HPEditModal, defaultProps)),
          |              ^
      135 |     mocks,
      136 |     participant: mockParticipant,
      137 |   };

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderHPEditModal (src/components/combat/hp-tracking/test-helpers.ts:134:14)
      at Object.<anonymous> (src/components/combat/hp-tracking/__tests__/HPEditModal.test.tsx:71:40)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      132 |
      133 |   return {
    > 134 |     ...render(React.createElement(HPEditModal, defaultProps)),
          |              ^
      135 |     mocks,
      136 |     participant: mockParticipant,
      137 |   };

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderHPEditModal (src/components/combat/hp-tracking/test-helpers.ts:134:14)
      at Object.<anonymous> (src/components/combat/hp-tracking/__tests__/HPEditModal.test.tsx:81:22)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      132 |
      133 |   return {
    > 134 |     ...render(React.createElement(HPEditModal, defaultProps)),
          |              ^
      135 |     mocks,
      136 |     participant: mockParticipant,
      137 |   };

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderHPEditModal (src/components/combat/hp-tracking/test-helpers.ts:134:14)
      at Object.<anonymous> (src/components/combat/hp-tracking/__tests__/HPEditModal.test.tsx:87:40)

PASS src/components/combat/utils/__tests__/apiUtils.test.ts
PASS src/components/combat/round-tracking/__tests__/useRoundTracking.triggers.test.ts
PASS src/components/encounter/components/__tests__/LoadingStates.test.tsx
PASS src/components/dashboard/__tests__/QuickActions.test.tsx
PASS src/components/forms/character/__tests__/CharacterPreview.validation.test.tsx
PASS src/components/forms/character/__tests__/CharacterValidationForm.classes.test.tsx
PASS src/components/combat/round-tracking/__tests__/RoundTracker.counter.test.tsx
PASS src/components/dashboard/__tests__/Dashboard.test.tsx
PASS src/components/forms/character/__tests__/CharacterValidationForm.rendering.test.tsx
PASS src/components/combat/utils/__tests__/shareUtils.test.ts
PASS src/components/dashboard/__tests__/SummaryCards.test.tsx
PASS src/components/encounter/components/__tests__/GridLayout.test.tsx
PASS src/components/landing/__tests__/FeaturesSection.test.tsx
PASS src/components/forms/character/__tests__/CharacterPreview.classes.test.tsx
PASS src/components/combat/round-tracking/__tests__/RoundTracker.effects.test.tsx
PASS src/components/forms/__tests__/dnd-validators.test.ts
PASS src/components/landing/__tests__/CTAButtons.test.tsx
PASS src/components/landing/__tests__/LandingPage.test.tsx
PASS src/components/combat/round-tracking/__tests__/useRoundTracking.rounds.test.ts
PASS src/components/combat/utils/__tests__/participantUtils.test.ts
PASS src/components/combat/round-tracking/__tests__/useRoundTracking.history.test.ts
PASS src/components/combat/round-tracking/__tests__/RoundTracker.triggers.test.tsx
PASS src/components/forms/character/__tests__/CharacterValidationForm.validation.test.tsx
PASS src/components/landing/__tests__/FeatureIcon.test.tsx
PASS src/__tests__/components/ui/card.test.tsx
PASS src/components/combat/round-tracking/__tests__/RoundTracker.accessibility.test.tsx
PASS src/components/combat/round-tracking/__tests__/RoundTracker.duration.test.tsx
PASS src/components/legal/__tests__/LegalComponents.test.tsx
PASS src/components/encounter/BatchActions/__tests__/utils.test.ts
PASS src/components/combat/round-tracking/__tests__/RoundTracker.history.test.tsx
PASS src/components/combat/round-tracking/__tests__/useRoundTracking.summary.test.ts
PASS src/components/landing/__tests__/TestimonialAvatar.test.tsx
PASS src/components/forms/character/__tests__/CharacterValidationForm.modal.test.tsx
PASS src/components/forms/character/__tests__/CharacterPreview.rendering.test.tsx
PASS src/components/combat/round-tracking/__tests__/useRoundTracking.duration.test.ts
PASS src/components/combat/round-tracking/__tests__/useRoundTracking.errors.test.ts
PASS src/__tests__/components/ui/button.test.tsx
PASS src/components/combat/round-tracking/__tests__/RoundTracker.export.test.tsx
PASS src/__tests__/components/ui/input.test.tsx
PASS src/components/encounter/components/__tests__/EmptyState.test.tsx
PASS src/components/combat/round-tracking/__tests__/useRoundTracking.performance.test.ts
PASS src/components/legal/__tests__/PrivacyPolicy.test.tsx
PASS src/components/legal/__tests__/TermsOfService.test.tsx
PASS src/components/combat/round-tracking/__tests__/RoundTracker.performance.test.tsx
PASS src/components/landing/__tests__/production-deployment.test.tsx
PASS src/components/combat/round-tracking/__tests__/RoundTracker.error.test.tsx
PASS src/components/combat/round-tracking/__tests__/useRoundTracking.test.ts
PASS src/components/layout/__tests__/Footer.test.tsx
PASS src/components/forms/__tests__/form-utils.test.ts
PASS src/lib/services/__tests__/CharacterService.comprehensive.test.ts
PASS src/lib/services/__tests__/EncounterService.test.ts
PASS src/lib/services/__tests__/UserServiceValidation.comprehensive.test.ts
PASS src/lib/services/__tests__/UserServiceDatabase.comprehensive.test.ts
PASS src/lib/services/__tests__/CharacterValidationService.test.ts
PASS src/lib/services/__tests__/EncounterServiceImportExport.test.ts
PASS src/lib/services/__tests__/utils/CharacterQueryUtils.test.ts
PASS src/lib/services/__tests__/NPCTemplateService.test.ts
PASS src/lib/services/__tests__/UserServiceLookup.test.ts
PASS src/lib/services/__tests__/utils/CharacterValidationUtils.test.ts
PASS src/lib/services/__tests__/UserServiceHelpers.test.ts
PASS src/lib/services/__tests__/EncounterService.integration.test.ts
PASS src/lib/services/__tests__/utils/CharacterAccessUtils.test.ts
PASS src/lib/services/__tests__/UserServiceStats.test.ts
PASS src/lib/services/__tests__/UserServiceQueryHelpers.test.ts
PASS src/lib/services/__tests__/UserServiceCRUD.test.ts
PASS src/lib/services/__tests__/UserService.auth.test.ts
PASS src/lib/services/__tests__/NPCTemplateImporter.test.ts
PASS src/lib/services/__tests__/UserServiceProfile.deletion-helpers.test.ts
PASS src/lib/services/__tests__/DamageCalculationService.test.ts
PASS src/lib/services/__tests__/UserService.admin.test.ts
PASS src/lib/services/__tests__/NPCTemplateVariants.test.ts
PASS src/lib/services/__tests__/UserServiceResponseHelpers.errorHandling.test.ts
PASS src/lib/services/__tests__/UserService.profile.test.ts
PASS src/lib/services/__tests__/UserServiceProfile.updates.test.ts
PASS src/lib/services/__tests__/UserServicePassword.test.ts
PASS src/lib/services/__tests__/UserServiceProfile.retrieval.test.ts
PASS src/lib/services/__tests__/EncounterServiceErrors.test.ts
PASS src/lib/services/__tests__/CharacterServiceSearch.test.ts
PASS src/lib/services/__tests__/UserServiceErrors.only.test.ts
PASS src/lib/services/__tests__/UserServiceResponseHelpers.core.test.ts
PASS src/lib/services/__tests__/CharacterService.simple.test.ts
PASS src/lib/services/__tests__/UserServiceResponseHelpers.serialization.test.ts
PASS src/lib/services/__tests__/UserServiceProfile.subscriptions.test.ts
PASS src/lib/services/__tests__/UserServiceAuth.diffCoverage.test.ts
PASS src/lib/services/__tests__/UserServiceAuth.final-coverage.test.ts
PASS src/lib/services/__tests__/UserServiceErrors.test.ts
PASS src/lib/services/__tests__/UserServiceProfile.diffCoverage.test.ts
PASS src/lib/services/__tests__/UserServiceAuth.comprehensive.test.ts
PASS src/lib/services/__tests__/UserServiceAuth.test.ts
PASS src/lib/validations/__tests__/character-enhanced.test.ts
PASS src/lib/validations/__tests__/error-recovery.test.ts
  ● Console

    console.warn
      Failed to auto-save character data: Error: QuotaExceededError
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/lib/validations/__tests__/error-recovery.test.ts:366:15)
          at /home/doug/dev/dnd-tracker-next-js/node_modules/jest-mock/build/index.js:305:39
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-mock/build/index.js:312:13)
          at Object.mockConstructor [as setItem] (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-mock/build/index.js:62:19)
          at Function.setItem [as autoSaveCharacterData] (/home/doug/dev/dnd-tracker-next-js/src/lib/validations/error-recovery.ts:86:20)
          at autoSaveCharacterData (/home/doug/dev/dnd-tracker-next-js/src/lib/validations/error-recovery.ts:480:31)
          at callTimer (/home/doug/dev/dnd-tracker-next-js/node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:806:24)
          at doTickInner (/home/doug/dev/dnd-tracker-next-js/node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1413:29)
          at doTick (/home/doug/dev/dnd-tracker-next-js/node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1494:20)
          at Object.tick (/home/doug/dev/dnd-tracker-next-js/node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1502:20)
          at FakeTimers.advanceTimersByTime (/home/doug/dev/dnd-tracker-next-js/node_modules/@jest/fake-timers/build/index.js:576:19)
          at Object.advanceTimersByTime (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runtime/build/index.js:1721:56)
          at Object.advanceTimersByTime (/home/doug/dev/dnd-tracker-next-js/src/lib/validations/__tests__/error-recovery.test.ts:427:10)
          at Promise.finally.completed (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:494:12)

      86 |       localStorage.setItem(this.AUTO_SAVE_KEY, JSON.stringify(autoSaveData));
      87 |     } catch (error) {
    > 88 |       console.warn('Failed to auto-save character data:', error);
         |               ^
      89 |     }
      90 |   }
      91 |

      at Function.warn [as autoSaveCharacterData] (src/lib/validations/error-recovery.ts:88:15)
      at autoSaveCharacterData (src/lib/validations/error-recovery.ts:480:31)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:806:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1413:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1494:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1502:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/index.js:576:19)
      at Object.advanceTimersByTime (src/lib/validations/__tests__/error-recovery.test.ts:427:10)

PASS src/lib/validations/__tests__/encounter.test.ts
PASS src/lib/validations/__tests__/base.test.ts
PASS src/lib/validations/__tests__/character.test.ts
PASS src/lib/validations/__tests__/user.test.ts
PASS src/lib/validations/__tests__/form-integration.test.ts
PASS src/lib/validations/__tests__/character-creation.test.ts
PASS src/lib/validations/__tests__/character-api.test.ts
PASS src/lib/validations/__tests__/character-spells.test.ts
PASS src/lib/validations/__tests__/character-export.test.ts
PASS src/hooks/__tests__/useCombatTimer.test.ts
PASS src/lib/utils/dice/__tests__/dice-rolling.test.ts
PASS src/lib/hooks/__tests__/useEncounterSettings.test.ts
  ● Console

    console.error
      Failed to update encounter settings: Error: Validation error
          at makeApiRequest (/home/doug/dev/dnd-tracker-next-js/src/lib/hooks/useEncounterSettings.ts:35:11)
          at Object.updateSettings (/home/doug/dev/dnd-tracker-next-js/src/lib/hooks/useEncounterSettings.ts:53:9)
          at /home/doug/dev/dnd-tracker-next-js/src/lib/hooks/__tests__/useEncounterSettings.test.ts:27:5

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at Object.error [as updateSettings] (src/lib/hooks/useEncounterSettings.ts:60:17)
      at src/lib/hooks/__tests__/useEncounterSettings.test.ts:27:5

    console.error
      Failed to update encounter settings: Error: Network error
          at createFetchNetworkError (/home/doug/dev/dnd-tracker-next-js/src/__test-utils__/encounter-settings-test-utils.ts:80:38)
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/lib/hooks/__tests__/useEncounterSettings.test.ts:76:81)
          at Promise.finally.completed (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at _runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:494:12)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at Object.error [as updateSettings] (src/lib/hooks/useEncounterSettings.ts:60:17)
      at src/lib/hooks/__tests__/useEncounterSettings.test.ts:27:5

    console.error
      Failed to update encounter settings: Error: Network error
          at createFetchNetworkError (/home/doug/dev/dnd-tracker-next-js/src/__test-utils__/encounter-settings-test-utils.ts:80:38)
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/lib/hooks/__tests__/useEncounterSettings.test.ts:112:63)
          at Promise.finally.completed (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at _runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:494:12)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at Object.error [as updateSettings] (src/lib/hooks/useEncounterSettings.ts:60:17)
      at src/lib/hooks/__tests__/useEncounterSettings.test.ts:119:9

    console.error
      Failed to update encounter settings: Error: Server error
          at makeApiRequest (/home/doug/dev/dnd-tracker-next-js/src/lib/hooks/useEncounterSettings.ts:35:11)
          at Object.updateSettings (/home/doug/dev/dnd-tracker-next-js/src/lib/hooks/useEncounterSettings.ts:53:9)
          at /home/doug/dev/dnd-tracker-next-js/src/lib/hooks/__tests__/useEncounterSettings.test.ts:145:9

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at Object.error [as updateSettings] (src/lib/hooks/useEncounterSettings.ts:60:17)
      at src/lib/hooks/__tests__/useEncounterSettings.test.ts:145:9

PASS src/lib/utils/dice/__tests__/damage-calculation.test.ts
PASS src/lib/models/encounter/__tests__/methods.test.ts
PASS src/lib/models/encounter/__tests__/combatStateManager.test.ts
  ● Console

    console.error
      Failed to save combat state: Error: fail
          at JSON.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/lib/models/encounter/__tests__/combatStateManager.test.ts:271:46)
          at /home/doug/dev/dnd-tracker-next-js/node_modules/jest-mock/build/index.js:305:39
          at JSON.<anonymous> (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-mock/build/index.js:312:13)
          at JSON.mockConstructor (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-mock/build/index.js:102:19)
          at stringify (/home/doug/dev/dnd-tracker-next-js/src/lib/models/encounter/combatStateManager.ts:164:29)
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/lib/models/encounter/__tests__/combatStateManager.test.ts:272:29)
          at Promise.finally.completed (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at _runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:494:12)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/lib/models/encounter/combatStateManager.ts:179:13)
      at Object.<anonymous> (src/lib/models/encounter/__tests__/combatStateManager.test.ts:272:29)

    console.error
      Failed to save combat state: Error: Circular reference
          at JSON.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/lib/models/encounter/__tests__/combatStateManager.test.ts:414:46)
          at /home/doug/dev/dnd-tracker-next-js/node_modules/jest-mock/build/index.js:305:39
          at JSON.<anonymous> (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-mock/build/index.js:312:13)
          at JSON.mockConstructor (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-mock/build/index.js:102:19)
          at stringify (/home/doug/dev/dnd-tracker-next-js/src/lib/models/encounter/combatStateManager.ts:164:29)
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/lib/models/encounter/__tests__/combatStateManager.test.ts:417:29)
          at Promise.finally.completed (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at _runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:494:12)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/lib/models/encounter/combatStateManager.ts:179:13)
      at Object.<anonymous> (src/lib/models/encounter/__tests__/combatStateManager.test.ts:417:29)

PASS src/lib/models/encounter/__tests__/initiative-rolling.unit.test.ts
PASS src/lib/models/shared/__tests__/schema-utils.test.ts
PASS src/lib/__tests__/auth.test.ts
PASS src/__tests__/middleware.test.ts
PASS src/lib/models/__tests__/Character.unit.test.ts
PASS src/lib/__tests__/middleware.test.ts
  ● Console

    console.error
      Token validation error: Error: Token verification failed
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/lib/__tests__/middleware.test.ts:67:38)
          at Promise.finally.completed (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:494:12)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/lib/middleware.ts:66:13)
      at requireAuthentication (src/lib/middleware.ts:88:17)
      at Object.<anonymous> (src/lib/__tests__/middleware.test.ts:69:22)

    console.error
      Authenticated handler error: Error: Handler error
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/lib/__tests__/middleware.test.ts:121:37)
          at Promise.finally.completed (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:494:12)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/lib/middleware.ts:116:15)
      at Object.<anonymous> (src/lib/__tests__/middleware.test.ts:124:22)

PASS src/lib/__tests__/session-client.test.ts
PASS src/lib/models/__tests__/User.interfaces.unit.test.ts
PASS src/lib/models/encounter/__tests__/utils.test.ts
PASS src/lib/models/__tests__/User.constants.unit.test.ts
PASS src/app/encounters/[id]/__tests__/page.test.tsx
  ● Console

    console.error
      Failed to update encounter settings: ReferenceError: fetch is not defined
          at makeApiRequest (/home/doug/dev/dnd-tracker-next-js/src/lib/hooks/useEncounterSettings.ts:24:20)
          at makeApiRequest (/home/doug/dev/dnd-tracker-next-js/src/lib/hooks/useEncounterSettings.ts:53:15)
          at updateSettings (/home/doug/dev/dnd-tracker-next-js/src/app/encounters/[id]/components/EncounterSettings.tsx:67:5)
          at Object.handleSettingChange (/home/doug/dev/dnd-tracker-next-js/src/app/encounters/[id]/components/EncounterSettings.tsx:95:36)
          at /home/doug/dev/dnd-tracker-next-js/node_modules/@radix-ui/react-use-controllable-state/src/use-controllable-state.tsx:56:23
          at /home/doug/dev/dnd-tracker-next-js/node_modules/@radix-ui/react-switch/src/switch.tsx:73:13
          at handleEvent (/home/doug/dev/dnd-tracker-next-js/node_modules/@radix-ui/primitive/src/primitive.tsx:10:14)
          at HTMLUnknownElement.callCallback (/home/doug/dev/dnd-tracker-next-js/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
          at HTMLUnknownElement.callTheUserObjectsOperation (/home/doug/dev/dnd-tracker-next-js/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
          at innerInvokeEventListeners (/home/doug/dev/dnd-tracker-next-js/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
          at invokeEventListeners (/home/doug/dev/dnd-tracker-next-js/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/doug/dev/dnd-tracker-next-js/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/doug/dev/dnd-tracker-next-js/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/doug/dev/dnd-tracker-next-js/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/doug/dev/dnd-tracker-next-js/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/doug/dev/dnd-tracker-next-js/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at invokeGuardedCallbackAndCatchFirstError (/home/doug/dev/dnd-tracker-next-js/node_modules/react-dom/cjs/react-dom.development.js:4291:25)
          at executeDispatch (/home/doug/dev/dnd-tracker-next-js/node_modules/react-dom/cjs/react-dom.development.js:9041:3)
          at processDispatchQueueItemsInOrder (/home/doug/dev/dnd-tracker-next-js/node_modules/react-dom/cjs/react-dom.development.js:9073:7)
          at processDispatchQueue (/home/doug/dev/dnd-tracker-next-js/node_modules/react-dom/cjs/react-dom.development.js:9086:5)
          at dispatchEventsForPlugins (/home/doug/dev/dnd-tracker-next-js/node_modules/react-dom/cjs/react-dom.development.js:9097:3)
          at /home/doug/dev/dnd-tracker-next-js/node_modules/react-dom/cjs/react-dom.development.js:9288:12
          at batchedUpdates$1 (/home/doug/dev/dnd-tracker-next-js/node_modules/react-dom/cjs/react-dom.development.js:26179:12)
          at batchedUpdates (/home/doug/dev/dnd-tracker-next-js/node_modules/react-dom/cjs/react-dom.development.js:3991:12)
          at dispatchEventForPluginEventSystem (/home/doug/dev/dnd-tracker-next-js/node_modules/react-dom/cjs/react-dom.development.js:9287:3)
          at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (/home/doug/dev/dnd-tracker-next-js/node_modules/react-dom/cjs/react-dom.development.js:6465:5)
          at dispatchEvent (/home/doug/dev/dnd-tracker-next-js/node_modules/react-dom/cjs/react-dom.development.js:6457:5)
          at dispatchDiscreteEvent (/home/doug/dev/dnd-tracker-next-js/node_modules/react-dom/cjs/react-dom.development.js:6430:5)
          at HTMLDivElement.callTheUserObjectsOperation (/home/doug/dev/dnd-tracker-next-js/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
          at innerInvokeEventListeners (/home/doug/dev/dnd-tracker-next-js/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
          at invokeEventListeners (/home/doug/dev/dnd-tracker-next-js/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLButtonElementImpl._dispatch (/home/doug/dev/dnd-tracker-next-js/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLButtonElementImpl.dispatchEvent (/home/doug/dev/dnd-tracker-next-js/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLButtonElement.dispatchEvent (/home/doug/dev/dnd-tracker-next-js/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at /home/doug/dev/dnd-tracker-next-js/node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:43
          at /home/doug/dev/dnd-tracker-next-js/node_modules/@testing-library/react/dist/pure.js:108:16
          at /home/doug/dev/dnd-tracker-next-js/node_modules/@testing-library/react/dist/act-compat.js:48:24
          at act (/home/doug/dev/dnd-tracker-next-js/node_modules/react/cjs/react.development.js:2512:16)
          at /home/doug/dev/dnd-tracker-next-js/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at Object.eventWrapper (/home/doug/dev/dnd-tracker-next-js/node_modules/@testing-library/react/dist/pure.js:107:28)
          at Object.wrapEvent (/home/doug/dev/dnd-tracker-next-js/node_modules/@testing-library/user-event/dist/cjs/event/wrapEvent.js:6:28)
          at Object.dispatchEvent (/home/doug/dev/dnd-tracker-next-js/node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:22)
          at Object.dispatchUIEvent (/home/doug/dev/dnd-tracker-next-js/node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:22:26)
          at Mouse.up (/home/doug/dev/dnd-tracker-next-js/node_modules/@testing-library/user-event/dist/cjs/system/pointer/mouse.js:100:30)
          at PointerHost.release (/home/doug/dev/dnd-tracker-next-js/node_modules/@testing-library/user-event/dist/cjs/system/pointer/index.js:87:24)
          at pointerAction (/home/doug/dev/dnd-tracker-next-js/node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:54:47)
          at Object.pointer (/home/doug/dev/dnd-tracker-next-js/node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:27:9)
          at Object.asyncWrapper (/home/doug/dev/dnd-tracker-next-js/node_modules/@testing-library/react/dist/pure.js:88:22)
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/app/encounters/[id]/__tests__/page.test.tsx:180:7)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/lib/hooks/useEncounterSettings.ts:60:17)

PASS src/components/forms/character/__tests__/CharacterValidationForm.test.tsx (14.422 s)
PASS src/lib/__tests__/session-context.test.tsx
PASS src/lib/__tests__/db-utils.test.ts
  ● Console

    console.error
      Database health check failed: Error: Connection failed
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/lib/__tests__/db-utils.test.ts:112:43)
          at Promise.finally.completed (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:494:12)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/lib/db-utils.ts:41:13)
      at Object.<anonymous> (src/lib/__tests__/db-utils.test.ts:114:22)

    console.log
      Database connected successfully on attempt 1

      at log (src/lib/db-utils.ts:88:15)

    console.warn
      Database connection attempt 1 failed. Retrying in 10ms... Error: First attempt failed
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/lib/__tests__/db-utils.test.ts:155:32)
          at Promise.finally.completed (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:494:12)

       98 |
       99 |       const delay = baseDelay * Math.pow(2, attempt - 1);
    > 100 |       console.warn(
          |               ^
      101 |         `Database connection attempt ${attempt} failed. Retrying in ${delay}ms...`,
      102 |         error
      103 |       );

      at warn (src/lib/db-utils.ts:100:15)
      at Object.<anonymous> (src/lib/__tests__/db-utils.test.ts:159:7)

    console.warn
      Database connection attempt 2 failed. Retrying in 20ms... Error: Second attempt failed
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/lib/__tests__/db-utils.test.ts:156:32)
          at Promise.finally.completed (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:494:12)

       98 |
       99 |       const delay = baseDelay * Math.pow(2, attempt - 1);
    > 100 |       console.warn(
          |               ^
      101 |         `Database connection attempt ${attempt} failed. Retrying in ${delay}ms...`,
      102 |         error
      103 |       );

      at warn (src/lib/db-utils.ts:100:15)
      at Object.<anonymous> (src/lib/__tests__/db-utils.test.ts:159:7)

    console.log
      Database connected successfully on attempt 3

      at log (src/lib/db-utils.ts:88:15)

    console.warn
      Database connection attempt 1 failed. Retrying in 10ms... Error: Always fails
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/lib/__tests__/db-utils.test.ts:165:43)
          at Promise.finally.completed (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at _runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:494:12)

       98 |
       99 |       const delay = baseDelay * Math.pow(2, attempt - 1);
    > 100 |       console.warn(
          |               ^
      101 |         `Database connection attempt ${attempt} failed. Retrying in ${delay}ms...`,
      102 |         error
      103 |       );

      at warn (src/lib/db-utils.ts:100:15)
      at Object.<anonymous> (src/lib/__tests__/db-utils.test.ts:167:7)

PASS src/app/(auth)/__tests__/SignUpPage.test.tsx
PASS src/lib/models/encounter/__tests__/statics.test.ts
PASS src/lib/__tests__/db.test.ts
  ● Console

    console.log
      Successfully connected to MongoDB

      at log (src/lib/db.ts:44:13)

    console.error
      Error connecting to MongoDB: Error: MONGODB_URI environment variable is not defined
          at connectToDatabase (/home/doug/dev/dnd-tracker-next-js/src/lib/db.ts:22:13)
          at Object.connectToDatabase (/home/doug/dev/dnd-tracker-next-js/src/lib/__tests__/db.test.ts:79:20)
          at Promise.finally.completed (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:494:12)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/lib/db.ts:67:13)
      at Object.connectToDatabase (src/lib/__tests__/db.test.ts:79:20)

    console.error
      Error connecting to MongoDB: Error: MONGODB_DB_NAME environment variable is not defined
          at connectToDatabase (/home/doug/dev/dnd-tracker-next-js/src/lib/db.ts:26:13)
          at Object.connectToDatabase (/home/doug/dev/dnd-tracker-next-js/src/lib/__tests__/db.test.ts:88:20)
          at Promise.finally.completed (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:494:12)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/lib/db.ts:67:13)
      at Object.connectToDatabase (src/lib/__tests__/db.test.ts:88:20)

    console.error
      Error connecting to MongoDB: Error: Connection failed
          at Object.<anonymous> (/home/doug/dev/dnd-tracker-next-js/src/lib/__tests__/db.test.ts:95:31)
          at Promise.finally.completed (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/home/doug/dev/dnd-tracker-next-js/node_modules/jest-runner/build/testWorker.js:494:12)

      142 |   }
      143 |
    > 144 |   originalConsoleError(...args);
          |   ^
      145 | };
      146 |
      147 | // Mock Mongoose and BSON globally to prevent import issues

      at console.originalConsoleError [as error] (jest.setup.js:144:3)
      at error (src/lib/db.ts:67:13)
      at Object.<anonymous> (src/lib/__tests__/db.test.ts:99:7)

    console.log
      Successfully connected to MongoDB

      at log (src/lib/db.ts:44:13)

    console.log
      Already connected to MongoDB

      at log (src/lib/db.ts:12:13)

    console.log
      Successfully connected to MongoDB

      at log (src/lib/db.ts:44:13)

    console.log
      Disconnected from MongoDB

      at log (src/lib/db.ts:76:13)

    console.log
      Successfully connected to MongoDB

      at log (src/lib/db.ts:44:13)

PASS src/app/characters/[id]/page.test.tsx
PASS src/lib/__tests__/auth.coverage.test.ts
PASS src/app/__tests__/LandingPage.test.tsx
PASS src/app/(auth)/__tests__/SignInPage.test.tsx
PASS src/__tests__/utils.test.ts
PASS src/app/dashboard/__tests__/page.test.tsx
PASS src/__tests__/eslint-config.test.js
PASS src/app/(auth)/__tests__/ProfileSetupPage.test.tsx
PASS src/__tests__/parallel-execution.test.ts
------------------------------------------------------|---------|----------|---------|---------|-------------------------------------------------------------------------------------------------------------
File                                                  | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                                                                                           
------------------------------------------------------|---------|----------|---------|---------|-------------------------------------------------------------------------------------------------------------
All files                                             |   83.22 |    73.11 |   81.42 |   84.23 |                                                                                                             
 src                                                  |   94.73 |    91.66 |     100 |   94.44 |                                                                                                             
  middleware.ts                                       |   94.73 |    91.66 |     100 |   94.44 | 34                                                                                                          
 src/__test-utils__                                   |     100 |    54.54 |     100 |     100 |                                                                                                             
  encounter-settings-test-utils.ts                    |     100 |    54.54 |     100 |     100 | 51,69-95,148                                                                                                
 src/components                                       |   94.59 |       90 |      90 |   94.44 |                                                                                                             
  theme-provider.tsx                                  |   92.59 |       90 |   83.33 |    92.3 | 20,81                                                                                                       
  theme-toggle.tsx                                    |     100 |      100 |     100 |     100 |                                                                                                             
 src/components/character                             |      88 |    73.33 |   83.33 |      90 |                                                                                                             
  BatchActions.tsx                                    |     100 |      100 |     100 |     100 |                                                                                                             
  CharacterAbilityScores.tsx                          |     100 |    88.88 |     100 |     100 | 32                                                                                                          
  CharacterActionButtons.tsx                          |     100 |      100 |     100 |     100 |                                                                                                             
  CharacterComparison.tsx                             |   77.77 |    38.23 |   81.81 |   85.41 | 33-38,42-44                                                                                                 
  CharacterDeletionDialog.tsx                         |   77.14 |    71.42 |      75 |   78.78 | 21,96,103-120                                                                                               
  CharacterEditingHeader.tsx                          |     100 |      100 |     100 |     100 |                                                                                                             
  CharacterFilters.tsx                                |     100 |      100 |     100 |     100 |                                                                                                             
  CharacterGrid.tsx                                   |     100 |      100 |     100 |     100 |                                                                                                             
  CharacterListView.tsx                               |   78.78 |      100 |   45.45 |   78.12 | 67,71,79-80,86-148                                                                                          
  CharacterNotes.tsx                                  |      75 |    72.72 |   33.33 |      75 | 49-70                                                                                                       
  CharacterSelectionCheckbox.tsx                      |     100 |      100 |     100 |     100 |                                                                                                             
  CharacterStatsManager.tsx                           |   89.92 |    75.36 |   78.57 |   94.21 | 68,176-179,186-187,201,205                                                                                  
  CharacterTable.tsx                                  |    87.5 |      100 |   66.66 |    87.5 | 45                                                                                                          
  CharacterVersionHistory.tsx                         |   89.47 |       72 |    90.9 |   91.07 | 45,77-80,89,198                                                                                             
  Pagination.tsx                                      |     100 |      100 |     100 |     100 |                                                                                                             
  ViewModeToggle.tsx                                  |      80 |      100 |   66.66 |      80 | 16                                                                                                          
  constants.ts                                        |     100 |      100 |     100 |     100 |                                                                                                             
  utils.ts                                            |      98 |       75 |     100 |   97.36 | 42                                                                                                          
 src/components/character/hooks                       |   90.19 |       60 |      90 |   91.83 |                                                                                                             
  useCharacterData.ts                                 |   95.23 |       75 |     100 |   95.23 | 33                                                                                                          
  useCharacterFilters.ts                              |    92.3 |       50 |     100 |     100 | 25                                                                                                          
  useCharacterSelection.ts                            |   82.35 |       50 |      80 |   81.25 | 19,28,33                                                                                                    
 src/components/characters                            |     100 |      100 |     100 |     100 |                                                                                                             
  CharacterDetailView.tsx                             |     100 |      100 |     100 |     100 |                                                                                                             
 src/components/characters/detail-sections            |   94.91 |     74.6 |     100 |   99.03 |                                                                                                             
  AbilityScoresDisplay.tsx                            |     100 |      100 |     100 |     100 |                                                                                                             
  CharacterEquipment.tsx                              |     100 |       70 |     100 |     100 | 16-17,50                                                                                                    
  CharacterNotes.tsx                                  |     100 |    66.66 |     100 |     100 | 16-18                                                                                                       
  CharacterOverview.tsx                               |     100 |      100 |     100 |     100 |                                                                                                             
  CharacterSpells.tsx                                 |     100 |    83.33 |     100 |     100 | 12,53                                                                                                       
  CharacterStats.tsx                                  |     100 |      100 |     100 |     100 |                                                                                                             
  SavingThrowsDisplay.tsx                             |     100 |      100 |     100 |     100 |                                                                                                             
  SkillsDisplay.tsx                                   |   92.85 |       75 |     100 |     100 | 24                                                                                                          
  character-utils.ts                                  |   90.38 |    73.33 |     100 |    97.5 | 70                                                                                                          
 src/components/characters/detail-sections/components |     100 |      100 |     100 |     100 |                                                                                                             
  SectionCard.tsx                                     |     100 |      100 |     100 |     100 |                                                                                                             
 src/components/combat                                |   93.42 |    83.63 |   97.91 |   98.51 |                                                                                                             
  CombatControls.tsx                                  |     100 |      100 |     100 |     100 |                                                                                                             
  CombatStatus.tsx                                    |     100 |      100 |     100 |     100 |                                                                                                             
  CombatTimer.tsx                                     |     100 |    71.42 |     100 |     100 | 23                                                                                                          
  CombatToolbar.tsx                                   |   96.72 |    72.72 |   94.11 |   98.18 | 199                                                                                                         
  InitiativeCard.tsx                                  |     100 |      100 |     100 |     100 |                                                                                                             
  InitiativeCardComponents.tsx                        |   96.55 |    95.23 |     100 |      96 | 138                                                                                                         
  InitiativeList.tsx                                  |     100 |      100 |     100 |     100 |                                                                                                             
  InitiativeTracker.tsx                               |     100 |      100 |     100 |     100 |                                                                                                             
  QuickActions.tsx                                    |     100 |       85 |     100 |     100 | 162-163,165                                                                                                 
  useInitiativeData.ts                                |     100 |      100 |     100 |     100 |                                                                                                             
  useInitiativeHelpers.ts                             |   36.36 |      100 |     100 |     100 |                                                                                                             
 src/components/combat/hp-tracking                    |    81.6 |    70.23 |   80.51 |   85.29 |                                                                                                             
  HPEditForm.tsx                                      |      95 |       50 |     100 |     100 | 71                                                                                                          
  HPEditModal.tsx                                     |   77.77 |       50 |      50 |   77.77 | 33-34                                                                                                       
  HPQuickActions.tsx                                  |     100 |      100 |     100 |     100 |                                                                                                             
  HPQuickButtons.tsx                                  |     100 |      100 |     100 |     100 |                                                                                                             
  HPStatusDisplay.tsx                                 |     100 |       75 |     100 |     100 | 27                                                                                                          
  HPValueInputs.tsx                                   |     100 |    66.66 |     100 |     100 | 30,47                                                                                                       
  hp-button-utils.ts                                  |   90.47 |    83.33 |     100 |     100 | 25,29                                                                                                       
  hp-validation-utils.ts                              |   75.86 |     61.9 |   85.71 |   81.48 | 24,31,50,54,58                                                                                              
  test-helpers.ts                                     |   61.53 |    54.54 |   61.76 |   64.89 | 18,32,216-245,287-311                                                                                       
  useHPTracking.ts                                    |   95.31 |       75 |     100 |     100 | 64-71,88-117                                                                                                
 src/components/combat/round-tracking                 |   93.76 |    79.82 |   92.05 |   94.57 |                                                                                                             
  HistoryComponents.tsx                               |      90 |    85.71 |   94.11 |      90 | 260,298,355                                                                                                 
  RoundHistory.tsx                                    |   92.85 |      100 |   66.66 |   92.85 | 111                                                                                                         
  RoundTracker.tsx                                    |   96.42 |    57.14 |    87.5 |   96.42 | 161                                                                                                         
  TrackerComponents.tsx                               |     100 |      100 |     100 |     100 |                                                                                                             
  history-hooks.ts                                    |      84 |       50 |      90 |    87.5 | 74-76                                                                                                       
  history-utils.ts                                    |   95.55 |     87.5 |     100 |     100 | 30,68,92,112                                                                                                
  round-utils.ts                                      |   91.09 |    74.69 |   89.36 |   90.84 | 289,293,320,328-329,393,403-430                                                                             
  tracker-hooks.ts                                    |   95.77 |     90.9 |    90.9 |    97.1 | 45-46                                                                                                       
  tracker-utils.ts                                    |     100 |       75 |     100 |     100 | 14                                                                                                          
  useRoundTracking.ts                                 |   97.64 |    82.75 |   95.65 |   98.76 | 199                                                                                                         
 src/components/combat/round-tracking/components      |     100 |    97.05 |     100 |     100 |                                                                                                             
  DurationComponents.tsx                              |     100 |      100 |     100 |     100 |                                                                                                             
  EffectsComponents.tsx                               |     100 |      100 |     100 |     100 |                                                                                                             
  RoundHeaderComponents.tsx                           |     100 |      100 |     100 |     100 |                                                                                                             
  SessionComponents.tsx                               |     100 |      100 |     100 |     100 |                                                                                                             
  TriggersComponents.tsx                              |     100 |    92.85 |     100 |     100 | 104                                                                                                         
 src/components/combat/round-tracking/hooks           |   97.24 |    77.77 |   95.12 |   97.93 |                                                                                                             
  useDurationCalculations.ts                          |     100 |      100 |     100 |     100 |                                                                                                             
  useEffectManagement.ts                              |     100 |      100 |     100 |     100 |                                                                                                             
  useHistoryManagement.ts                             |     100 |      100 |     100 |     100 |                                                                                                             
  useRoundState.ts                                    |   92.59 |    54.54 |   77.77 |   95.65 | 75                                                                                                          
  useTriggerManagement.ts                             |   96.15 |     87.5 |     100 |   95.83 | 51                                                                                                          
 src/components/combat/utils                          |     100 |    90.32 |     100 |     100 |                                                                                                             
  apiUtils.ts                                         |     100 |    76.92 |     100 |     100 | 31-50                                                                                                       
  exportUtils.ts                                      |     100 |      100 |     100 |     100 |                                                                                                             
  participantUtils.ts                                 |     100 |      100 |     100 |     100 |                                                                                                             
  shareUtils.ts                                       |     100 |      100 |     100 |     100 |                                                                                                             
 src/components/dashboard                             |   96.42 |    85.71 |      90 |   96.29 |                                                                                                             
  Dashboard.tsx                                       |   92.85 |      100 |   66.66 |    92.3 | 18                                                                                                          
  QuickActions.tsx                                    |     100 |      100 |     100 |     100 |                                                                                                             
  SummaryCards.tsx                                    |     100 |      100 |     100 |     100 |                                                                                                             
  icons.tsx                                           |     100 |       75 |     100 |     100 | 11                                                                                                          
 src/components/encounter                             |   90.65 |    73.18 |   81.03 |   91.42 |                                                                                                             
  BatchActions.tsx                                    |     100 |      100 |     100 |     100 |                                                                                                             
  BatchSelectionBar.tsx                               |     100 |      100 |     100 |     100 |                                                                                                             
  CharacterLibraryInterface.tsx                       |   95.23 |    83.01 |     100 |   95.78 | 78,98,105-108                                                                                               
  EmptyParticipantsState.tsx                          |     100 |      100 |     100 |     100 |                                                                                                             
  EncounterActionButtons.tsx                          |     100 |      100 |     100 |     100 |                                                                                                             
  EncounterCard.tsx                                   |     100 |    83.33 |     100 |     100 | 22                                                                                                          
  EncounterFilters.tsx                                |     100 |      100 |     100 |     100 |                                                                                                             
  EncounterGrid.tsx                                   |     100 |      100 |     100 |     100 |                                                                                                             
  EncounterListView.tsx                               |     100 |      100 |     100 |     100 |                                                                                                             
  EncounterParticipantManager.tsx                     |   88.52 |    56.25 |   73.07 |   90.56 | 42,103,148-193                                                                                              
  EncounterTable.tsx                                  |     100 |      100 |     100 |     100 |                                                                                                             
  ParticipantDialogs.tsx                              |   77.77 |     62.5 |   66.66 |   80.76 | 68-69,187,195,225                                                                                           
  ParticipantForm.tsx                                 |   76.47 |    66.66 |      50 |   76.47 | 51,114,134-143                                                                                              
  ParticipantHeader.tsx                               |     100 |      100 |     100 |     100 |                                                                                                             
  ParticipantItem.tsx                                 |     100 |     62.5 |     100 |     100 | 35-36,84                                                                                                    
  ParticipantList.tsx                                 |   51.61 |    18.18 |   30.76 |   53.33 | 60,64-81,86                                                                                                 
 src/components/encounter/BatchActions                |     100 |      100 |     100 |     100 |                                                                                                             
  utils.ts                                            |     100 |      100 |     100 |     100 |                                                                                                             
 src/components/encounter/EncounterListView           |   46.15 |        0 |   57.14 |   33.33 |                                                                                                             
  ContentSection.tsx                                  |       0 |        0 |       0 |       0 | 1-37                                                                                                        
  ControlsSection.tsx                                 |       0 |      100 |       0 |       0 | 1-22                                                                                                        
  ErrorFallback.tsx                                   |       0 |      100 |       0 |       0 | 1-8                                                                                                         
  configUtils.ts                                      |     100 |      100 |     100 |     100 |                                                                                                             
 src/components/encounter/actions                     |   35.29 |    57.14 |   33.33 |   30.23 |                                                                                                             
  DeleteDialog.tsx                                    |     100 |      100 |     100 |     100 |                                                                                                             
  actionHandlers.ts                                   |       0 |        0 |       0 |       0 | 1-77                                                                                                        
  errorUtils.ts                                       |     100 |      100 |     100 |     100 |                                                                                                             
 src/components/encounter/card                        |   97.22 |    83.33 |     100 |     100 |                                                                                                             
  CardContent.tsx                                     |   91.66 |     90.9 |     100 |     100 | 39                                                                                                          
  CardHeader.tsx                                      |     100 |       60 |     100 |     100 | 19-24                                                                                                       
  badgeUtils.ts                                       |     100 |      100 |     100 |     100 |                                                                                                             
 src/components/encounter/components                  |     100 |      100 |     100 |     100 |                                                                                                             
  EmptyState.tsx                                      |     100 |      100 |     100 |     100 |                                                                                                             
  GridLayout.tsx                                      |     100 |      100 |     100 |     100 |                                                                                                             
  LoadingStates.tsx                                   |     100 |      100 |     100 |     100 |                                                                                                             
 src/components/encounter/filters                     |   98.03 |      100 |     100 |     100 |                                                                                                             
  FilterDropdown.tsx                                  |     100 |      100 |     100 |     100 |                                                                                                             
  SearchInput.tsx                                     |     100 |      100 |     100 |     100 |                                                                                                             
  SortDropdown.tsx                                    |     100 |      100 |     100 |     100 |                                                                                                             
  constants.ts                                        |     100 |      100 |     100 |     100 |                                                                                                             
  filterUtils.ts                                      |   96.15 |      100 |     100 |     100 |                                                                                                             
 src/components/encounter/hooks                       |   96.52 |       75 |   91.66 |   97.79 |                                                                                                             
  useEncounterData.ts                                 |     100 |        0 |     100 |     100 | 34-35                                                                                                       
  useEncounterFilters.ts                              |     100 |      100 |     100 |     100 |                                                                                                             
  useEncounterSelection.ts                            |    92.3 |      100 |   84.61 |     100 |                                                                                                             
  useParticipantForm.ts                               |      96 |    83.33 |     100 |   95.83 | 48                                                                                                          
  useParticipantOperations.ts                         |   94.59 |       50 |    87.5 |   94.28 | 94-95                                                                                                       
 src/components/encounter/hooks/utils                 |   98.48 |    92.85 |     100 |   98.14 |                                                                                                             
  dataFetchHelpers.ts                                 |     100 |      100 |     100 |     100 |                                                                                                             
  encounterTransform.ts                               |     100 |      100 |     100 |     100 |                                                                                                             
  errorHandling.ts                                    |      90 |       75 |     100 |    87.5 | 12                                                                                                          
  paginationHelpers.ts                                |     100 |      100 |     100 |     100 |                                                                                                             
  searchParams.ts                                     |     100 |      100 |     100 |     100 |                                                                                                             
 src/components/encounter/table                       |   74.13 |       52 |    61.9 |   77.55 |                                                                                                             
  TableCells.tsx                                      |   76.47 |    57.14 |      60 |   76.47 | 17-24,93                                                                                                    
  TableHeader.tsx                                     |     100 |      100 |     100 |     100 |                                                                                                             
  TableRow.tsx                                        |   85.71 |       50 |     100 |   85.71 | 29                                                                                                          
  headerUtils.ts                                      |      50 |        0 |       0 |   57.14 | 24-25,30                                                                                                    
  tableUtils.ts                                       |   69.23 |    42.85 |   33.33 |   66.66 | 13-15                                                                                                       
 src/components/encounter/utils                       |   41.41 |    40.74 |      35 |   43.95 |                                                                                                             
  characterConversion.ts                              |   68.57 |    70.83 |   83.33 |   68.57 | 27-28,38,42,46,50,63-64,71,81,108                                                                           
  formValidation.ts                                   |       0 |        0 |       0 |       0 | 10-49                                                                                                       
  serviceOperationUtils.ts                            |   43.58 |    41.66 |   28.57 |   44.44 | 20-51,75-76,82-90                                                                                           
 src/components/forms                                 |   93.96 |    77.96 |    90.9 |   94.28 |                                                                                                             
  FormGroup.tsx                                       |     100 |    53.84 |     100 |     100 | 17-18,26-42                                                                                                 
  FormInput.tsx                                       |     100 |      100 |     100 |     100 |                                                                                                             
  FormSelect.tsx                                      |     100 |      100 |     100 |     100 |                                                                                                             
  FormSubmitButton.tsx                                |     100 |    88.88 |     100 |     100 | 26                                                                                                          
  FormTextarea.tsx                                    |    62.5 |        0 |       0 |    62.5 | 30-31,84                                                                                                    
  FormWrapper.tsx                                     |   81.81 |       50 |   66.66 |      85 | 31,58-59                                                                                                    
  form-utils.ts                                       |     100 |      100 |     100 |     100 |                                                                                                             
 src/components/forms/character                       |   69.53 |    56.52 |   57.97 |   71.42 |                                                                                                             
  CharacterCreationForm.tsx                           |       0 |        0 |       0 |       0 | 3-158                                                                                                       
  CharacterPreview.tsx                                |     100 |      100 |     100 |     100 |                                                                                                             
  CharacterValidationForm.tsx                         |     100 |     90.9 |     100 |     100 | 152                                                                                                         
  NPCCreationForm.tsx                                 |   58.53 |    27.27 |   22.72 |      60 | 58,63-66,70-78,83,90-105,136-142,186,193-260                                                                
  character-preview-utils.ts                          |   84.44 |      100 |   93.75 |   96.66 | 47                                                                                                          
  constants.ts                                        |   74.28 |       20 |      20 |     100 | 200,211-229                                                                                                 
  utils.ts                                            |     100 |    54.54 |     100 |     100 | 22-38,50-68                                                                                                 
 src/components/forms/character/components            |     100 |    66.66 |     100 |     100 |                                                                                                             
  ClassFormFields.tsx                                 |     100 |      100 |     100 |     100 |                                                                                                             
  FormFieldNumber.tsx                                 |     100 |    71.42 |     100 |     100 | 52                                                                                                          
  FormFieldSelect.tsx                                 |     100 |    66.66 |     100 |     100 | 28                                                                                                          
  FormFieldText.tsx                                   |     100 |     62.5 |     100 |     100 | 23-30                                                                                                       
 src/components/forms/character/hooks                 |   90.67 |    91.07 |     100 |   95.91 |                                                                                                             
  character-form-utils.ts                             |   81.96 |       90 |     100 |   91.83 | 102,104,142,159                                                                                             
  useCharacterForm.ts                                 |     100 |      100 |     100 |     100 |                                                                                                             
  useCharacterSubmit.ts                               |     100 |      100 |     100 |     100 |                                                                                                             
 src/components/forms/character/npc                   |   65.17 |    70.23 |   40.98 |    63.1 |                                                                                                             
  NPCBasicInfoTab.tsx                                 |    64.7 |       80 |   33.33 |    64.7 | 10-16,141-196                                                                                               
  NPCDetailsTab.tsx                                   |   37.93 |    69.23 |    23.8 |   37.93 | 55-57,61-314                                                                                                
  NPCFormHelpers.ts                                   |     100 |    81.63 |     100 |     100 | 15-26,80,115                                                                                                
  NPCStatsTab.tsx                                     |   45.83 |       25 |   14.28 |   47.82 | 46,55,65-66,87-184                                                                                          
  NPCTemplateTab.tsx                                  |   86.66 |       60 |      60 |   86.66 | 91-131                                                                                                      
 src/components/forms/character/npc/hooks             |   73.33 |     62.5 |   83.33 |   72.41 |                                                                                                             
  useNPCForm.ts                                       |   73.33 |     62.5 |   83.33 |   72.41 | 92,96,100,102,108,114,122-123                                                                               
 src/components/forms/character/sections              |    94.6 |    73.03 |    88.4 |   94.65 |                                                                                                             
  AbilityScoresSection.tsx                            |     100 |     87.5 |     100 |     100 | 62-72                                                                                                       
  AbilityScoresValidationSection.tsx                  |     100 |       50 |     100 |     100 | 30-58                                                                                                       
  BasicInfoSection.tsx                                |      60 |      100 |   14.28 |      60 | 63-140                                                                                                      
  BasicInfoValidationSection.tsx                      |     100 |      100 |     100 |     100 |                                                                                                             
  ClassesSection.tsx                                  |   90.32 |    68.75 |   81.81 |   89.65 | 52,103,130                                                                                                  
  ClassesValidationSection.tsx                        |     100 |    69.23 |     100 |     100 | 21-33                                                                                                       
  CombatStatsSection.tsx                              |     100 |    91.66 |     100 |     100 | 121                                                                                                         
  CombatStatsValidationSection.tsx                    |    92.3 |       50 |     100 |    92.3 | 31                                                                                                          
  combat-stats-utils.ts                               |   96.55 |     87.5 |     100 |     100 | 45                                                                                                          
 src/components/home                                  |       0 |        0 |       0 |       0 |                                                                                                             
  CharacterStatsDemo.tsx                              |       0 |      100 |       0 |       0 | 1                                                                                                           
  ColorPaletteDemo.tsx                                |       0 |      100 |       0 |       0 | 1                                                                                                           
  CombatCard.tsx                                      |       0 |        0 |       0 |       0 | 11-20                                                                                                       
  CombatTrackerDemo.tsx                               |       0 |      100 |       0 |       0 | 1-3                                                                                                         
  ResponsiveGridTest.tsx                              |       0 |      100 |       0 |       0 | 1-9                                                                                                         
 src/components/landing                               |     100 |      100 |     100 |     100 |                                                                                                             
  CTAButtons.tsx                                      |     100 |      100 |     100 |     100 |                                                                                                             
  CallToActionSection.tsx                             |     100 |      100 |     100 |     100 |                                                                                                             
  FeatureIcon.tsx                                     |     100 |      100 |     100 |     100 |                                                                                                             
  FeaturesSection.tsx                                 |     100 |      100 |     100 |     100 |                                                                                                             
  HeroSection.tsx                                     |     100 |      100 |     100 |     100 |                                                                                                             
  LandingPage.tsx                                     |     100 |      100 |     100 |     100 |                                                                                                             
  PricingSection.tsx                                  |     100 |      100 |     100 |     100 |                                                                                                             
  TestimonialAvatar.tsx                               |     100 |      100 |     100 |     100 |                                                                                                             
  TestimonialCard.tsx                                 |     100 |      100 |     100 |     100 |                                                                                                             
  TestimonialsSection.tsx                             |     100 |      100 |     100 |     100 |                                                                                                             
 src/components/layout                                |   97.72 |    97.67 |    91.3 |   97.64 |                                                                                                             
  AppLayout.tsx                                       |   91.66 |      100 |      75 |    91.3 | 25-39                                                                                                       
  Breadcrumbs.tsx                                     |     100 |      100 |     100 |     100 |                                                                                                             
  Footer.tsx                                          |     100 |      100 |     100 |     100 |                                                                                                             
  MobileMenu.tsx                                      |     100 |      100 |     100 |     100 |                                                                                                             
  Sidebar.tsx                                         |     100 |    83.33 |     100 |     100 | 50                                                                                                          
  UserMenu.tsx                                        |     100 |      100 |     100 |     100 |                                                                                                             
 src/components/layout/shared                         |   77.77 |    66.66 |    87.5 |      75 |                                                                                                             
  navigation-config.tsx                               |   77.77 |    66.66 |    87.5 |      75 | 136-142                                                                                                     
 src/components/legal                                 |     100 |      100 |     100 |     100 |                                                                                                             
  LegalComponents.tsx                                 |     100 |      100 |     100 |     100 |                                                                                                             
  PrivacyPolicy.tsx                                   |     100 |      100 |     100 |     100 |                                                                                                             
  TermsOfService.tsx                                  |     100 |      100 |     100 |     100 |                                                                                                             
 src/components/modals                                |   84.91 |     86.4 |   84.72 |   85.97 |                                                                                                             
  ConfirmationDialog.tsx                              |      60 |    86.66 |   46.15 |   62.79 | 140-191                                                                                                     
  FormModal.tsx                                       |      74 |    72.22 |   84.61 |   76.59 | 61-74,83-87                                                                                                 
  InfoModal.tsx                                       |     100 |      100 |     100 |     100 |                                                                                                             
  Modal.tsx                                           |   81.81 |       88 |   71.42 |   81.81 | 77,112-134                                                                                                  
  ModalManager.tsx                                    |     100 |    94.44 |     100 |     100 | 136,215                                                                                                     
 src/components/shared                                |       0 |        0 |       0 |       0 |                                                                                                             
  LoadingCard.tsx                                     |       0 |      100 |       0 |       0 | 3-11                                                                                                        
  Pagination.tsx                                      |       0 |        0 |       0 |       0 | 3-32                                                                                                        
  ViewModeToggle.tsx                                  |       0 |        0 |       0 |       0 | 3-27                                                                                                        
 src/components/ui                                    |   89.88 |    79.41 |   85.71 |   90.72 |                                                                                                             
  alert-dialog.tsx                                    |    92.3 |      100 |     100 |    92.3 | 130-131                                                                                                     
  alert.tsx                                           |      90 |      100 |     100 |     100 |                                                                                                             
  avatar.tsx                                          |   88.88 |      100 |     100 |     100 |                                                                                                             
  badge.tsx                                           |   83.33 |      100 |     100 |     100 |                                                                                                             
  button.tsx                                          |     100 |      100 |     100 |     100 |                                                                                                             
  card.tsx                                            |   92.85 |      100 |     100 |   92.85 | 79                                                                                                          
  checkbox.tsx                                        |     100 |      100 |     100 |     100 |                                                                                                             
  dialog.tsx                                          |    87.5 |      100 |     100 |    87.5 | 113-114,116                                                                                                 
  dropdown-menu.tsx                                   |   77.14 |    42.85 |       0 |   77.14 | 191,194-200                                                                                                 
  form.tsx                                            |   95.45 |    83.33 |     100 |   95.45 | 52,171                                                                                                      
  input.tsx                                           |     100 |      100 |     100 |     100 |                                                                                                             
  label.tsx                                           |     100 |      100 |     100 |     100 |                                                                                                             
  loading-spinner.tsx                                 |     100 |      100 |     100 |     100 |                                                                                                             
  progress.tsx                                        |     100 |      100 |     100 |     100 |                                                                                                             
  select.tsx                                          |   79.16 |      100 |     100 |   79.16 | 150,154,156-158                                                                                             
  separator.tsx                                       |     100 |       75 |     100 |     100 | 22                                                                                                          
  skeleton.tsx                                        |       0 |      100 |       0 |       0 | 1-15                                                                                                        
  switch.tsx                                          |     100 |      100 |     100 |     100 |                                                                                                             
  tabs.tsx                                            |     100 |      100 |     100 |     100 |                                                                                                             
  textarea.tsx                                        |     100 |      100 |     100 |     100 |                                                                                                             
 src/hooks                                            |   80.24 |     85.5 |   72.22 |   78.66 |                                                                                                             
  use-toast.ts                                        |       0 |        0 |       0 |       0 | 10-37                                                                                                       
  useCombatTimer.ts                                   |     100 |    95.16 |     100 |     100 | 14,155-161                                                                                                  
 src/lib                                              |    84.3 |     70.5 |    82.6 |   83.64 |                                                                                                             
  auth.ts                                             |   37.83 |     6.45 |       0 |    30.3 | 9-13,31-90                                                                                                  
  db-utils.ts                                         |   81.81 |    71.42 |   71.42 |   82.92 | 65-72                                                                                                       
  db.ts                                               |   81.57 |      100 |   42.85 |   81.57 | 48,52,56-57,62-64                                                                                           
  middleware.ts                                       |     100 |       90 |     100 |     100 | 53,140,170                                                                                                  
  session-client.ts                                   |   94.54 |    88.88 |     100 |   93.75 | 182-185                                                                                                     
  session-context.tsx                                 |      84 |    85.71 |   66.66 |   83.33 | 73-74,123-126                                                                                               
  session-shared.ts                                   |   91.66 |      100 |     100 |     100 |                                                                                                             
  test-utils.tsx                                      |     100 |      100 |     100 |     100 |                                                                                                             
  utils.ts                                            |     100 |      100 |     100 |     100 |                                                                                                             
 src/lib/api                                          |   88.88 |    81.81 |     100 |   88.23 |                                                                                                             
  route-helpers.ts                                    |   88.88 |    81.81 |     100 |   88.23 | 8,22,46-47                                                                                                  
 src/lib/hooks                                        |   62.66 |    36.11 |   41.66 |   63.26 |                                                                                                             
  useCollaborators.ts                                 |    62.5 |       25 |      50 |    62.5 | 13,18-22,28                                                                                                 
  useCombatStart.ts                                   |   72.72 |      100 |      50 |   72.72 | 14-15,19                                                                                                    
  useEditableContent.ts                               |   44.44 |        0 |      25 |   44.44 | 11-23,28,32                                                                                                 
  useEncounterData.ts                                 |   82.75 |    45.45 |   83.33 |   82.14 | 10-13,37,52                                                                                                 
  useEncounterSettings.ts                             |     100 |       70 |     100 |     100 | 35-69                                                                                                       
  useInitiativeTracker.ts                             |   37.25 |        0 |    7.14 |   38.77 | 55,66,70,74,78,82,89,96,105,115-119,126-134,138-145,150-157                                                 
 src/lib/models                                       |   35.61 |     6.66 |       0 |   35.66 |                                                                                                             
  Character.ts                                        |   51.85 |        0 |       0 |   52.83 | 290-291,300-301,306,311,316,321,326,331,336,341,362,367,372,377,384,391,397-406,411-412                     
  User.ts                                             |   26.08 |     7.69 |       0 |   25.55 | 117,301-320,335-343,351-354,362-371,378-386,391-392,418-419,426,434-436,443,450,457,467-500,528-543,552-566 
 src/lib/models/encounter                             |   93.34 |    87.61 |   90.62 |   94.85 |                                                                                                             
  combatStateManager.ts                               |   93.33 |    89.69 |     100 |   93.24 | 197-201,247-248,255-256,262-263                                                                             
  initiative-rolling.ts                               |   97.67 |    84.21 |     100 |   97.61 | 162                                                                                                         
  methods.ts                                          |     100 |     84.9 |     100 |     100 | 62,127-138,164,186,204,223,258                                                                              
  schemas.ts                                          |   66.66 |        0 |       0 |      85 | 220-242                                                                                                     
  statics.ts                                          |     100 |     90.9 |     100 |     100 | 19                                                                                                          
  utils.ts                                            |    87.8 |    92.85 |   76.19 |   89.47 | 223-228,235-240,247-252,259,266                                                                             
 src/lib/models/shared                                |   84.26 |    92.68 |   79.31 |   85.07 |                                                                                                             
  schema-utils.ts                                     |   84.26 |    92.68 |   79.31 |   85.07 | 14-17,27-29,89,239-262                                                                                      
 src/lib/services                                     |   73.35 |    65.02 |   80.06 |   73.63 |                                                                                                             
  CharacterService.ts                                 |   45.66 |    29.16 |      80 |   45.23 | 241,249,265,281,288,292,300,313,321-326,339,355-587                                                         
  CharacterServiceCRUD.ts                             |   41.26 |    23.33 |      60 |   41.26 | 50,56,66-67,93-184                                                                                          
  CharacterServiceErrors.ts                           |   72.72 |    16.66 |   65.21 |   69.23 | 98-105,156,185-192,207-222                                                                                  
  CharacterServiceSearch.ts                           |     100 |      100 |     100 |     100 |                                                                                                             
  CharacterServiceStats.ts                            |    5.71 |        0 |       0 |    5.71 | 59-238                                                                                                      
  CharacterServiceTemplates.ts                        |    3.84 |        0 |       0 |    3.84 | 31-310                                                                                                      
  CharacterValidationService.ts                       |    79.2 |    63.63 |   88.23 |   81.89 | 93-107,122,153,215,230,276,350,354,362,380,385,400-401,405,421,436,441,445,455                              
  DamageCalculationService.ts                         |   77.94 |    53.48 |     100 |   77.27 | 50,68,83,103,185,193,202,206,210,219,223,227,232,236,240                                                    
  DamageCalculationServiceErrors.ts                   |   76.92 |        0 |   66.66 |      76 | 53-61,83-84                                                                                                 
  EncounterService.ts                                 |   96.61 |    85.71 |     100 |   96.61 | 101,137                                                                                                     
  EncounterServiceAuth.ts                             |      80 |       50 |   83.33 |   81.48 | 30,40,58,64,84                                                                                              
  EncounterServiceErrors.ts                           |   87.09 |    95.23 |      75 |   87.09 | 39-41,51-53                                                                                                 
  EncounterServiceImportExport.ts                     |   71.79 |       60 |      75 |   71.79 | 53,72,84,132-150                                                                                            
  EncounterServiceParticipants.ts                     |      50 |    30.76 |   30.76 |    52.3 | 41,73,107,115,125-209                                                                                       
  EncounterServiceSearch.ts                           |   73.21 |    57.69 |     100 |   73.21 | 68,116,127-132,139-142,149,155,176,189                                                                      
  EncounterServiceTemplates.ts                        |      90 |       75 |     100 |      90 | 60,71                                                                                                       
  EncounterServiceValidation.ts                       |   96.87 |      100 |   88.88 |     100 |                                                                                                             
  NPCTemplateData.ts                                  |     100 |      100 |     100 |     100 |                                                                                                             
  NPCTemplateFilters.ts                               |   56.66 |       84 |   42.85 |   66.66 | 15-54                                                                                                       
  NPCTemplateImporter.ts                              |     100 |      100 |     100 |     100 |                                                                                                             
  NPCTemplateService.ts                               |   89.74 |    71.87 |     100 |   89.18 | 39,79,97,116,149,171,196,231                                                                                
  NPCTemplateVariants.ts                              |   94.82 |    77.77 |     100 |   96.22 | 32,53                                                                                                       
  ServiceHelpers.ts                                   |   83.33 |        0 |      75 |   83.33 | 21                                                                                                          
  UserService.ts                                      |     100 |      100 |     100 |     100 |                                                                                                             
  UserServiceAuth.ts                                  |   56.57 |    27.27 |     100 |   56.57 | 44-58,64,101-116,122,153-170,173,199-208,235-240,243,273-275,280,302-316,319                                
  UserServiceDatabase.ts                              |     100 |      100 |     100 |     100 |                                                                                                             
  UserServiceErrors.ts                                |   91.66 |    73.33 |     100 |   91.66 | 104-105                                                                                                     
  UserServiceHelpers.ts                               |     100 |    96.15 |     100 |     100 | 75                                                                                                          
  UserServiceLookup.ts                                |   94.59 |    85.71 |     100 |   94.59 | 90,105                                                                                                      
  UserServiceProfile.ts                               |   98.43 |    95.45 |     100 |   98.43 | 145                                                                                                         
  UserServiceQueryHelpers.ts                          |   95.83 |      100 |     100 |   95.83 | 71                                                                                                          
  UserServiceResponseHelpers.ts                       |     100 |      100 |     100 |     100 |                                                                                                             
  UserServiceStats.ts                                 |     100 |      100 |     100 |     100 |                                                                                                             
  UserServiceValidation.ts                            |     100 |    92.85 |     100 |     100 | 114                                                                                                         
 src/lib/services/__test-helpers__                    |   66.66 |        0 |      25 |   68.18 |                                                                                                             
  test-setup.ts                                       |   66.66 |        0 |      25 |   68.18 | 21-31,76-87                                                                                                 
 src/lib/services/encounter-import-export             |   86.82 |    80.64 |   89.65 |   87.09 |                                                                                                             
  dataBuilder.ts                                      |     100 |    76.66 |     100 |     100 | 60,130-161,180,197                                                                                          
  formatConverter.ts                                  |   73.07 |    93.33 |    87.5 |   73.07 | 75-88                                                                                                       
  importProcessor.ts                                  |   72.72 |    66.66 |   66.66 |   76.19 | 37,56-84                                                                                                    
  sharingUtils.ts                                     |      90 |    81.81 |     100 |   89.74 | 25,56,82,115                                                                                                
  types.ts                                            |     100 |      100 |     100 |     100 |                                                                                                             
 src/lib/services/utils                               |   93.17 |    89.56 |      95 |   93.75 |                                                                                                             
  CharacterAccessUtils.ts                             |   90.41 |     90.9 |     100 |      90 | 66,93,123,152,162,210,225                                                                                   
  CharacterQueryUtils.ts                              |   94.11 |    86.66 |   88.23 |   95.65 | 127,129,240,242,301                                                                                         
  CharacterValidationUtils.ts                         |   94.73 |    93.93 |     100 |   94.54 | 33,74,94                                                                                                    
 src/lib/utils                                        |   76.71 |    60.71 |   94.73 |   80.35 |                                                                                                             
  combat-readiness.ts                                 |   76.92 |    61.11 |     100 |   80.64 | 23,32,55,72,101,127                                                                                         
  encounter-utils.ts                                  |   76.47 |       60 |    90.9 |      80 | 42-47                                                                                                       
 src/lib/utils/dice                                   |    98.3 |    83.33 |     100 |     100 |                                                                                                             
  damage-calculation.ts                               |     100 |      100 |     100 |     100 |                                                                                                             
  damage-types.ts                                     |    87.5 |      100 |     100 |     100 |                                                                                                             
  dice-rolling.ts                                     |     100 |       75 |     100 |     100 | 52                                                                                                          
 src/lib/validations                                  |   87.75 |    77.47 |   90.26 |   88.49 |                                                                                                             
  base.ts                                             |   96.29 |       50 |     100 |     100 | 102-103                                                                                                     
  character-enhanced.ts                               |   88.97 |    90.16 |   92.85 |   93.51 | 298,348,361,389,403-409                                                                                     
  character.ts                                        |     100 |      100 |     100 |     100 |                                                                                                             
  encounter.ts                                        |   80.39 |      100 |      60 |    93.1 | 166-167                                                                                                     
  error-recovery.ts                                   |   83.61 |    78.82 |   91.89 |   82.42 | 107-108,119,178,262-266,289-291,304-305,322-342,368,371,429,439,461                                         
  form-integration.ts                                 |   81.92 |    53.12 |      90 |    81.7 | 55-63,80-99,131,137                                                                                         
  user.ts                                             |   96.15 |      100 |   77.77 |   94.11 | 148-149                                                                                                     
 src/types                                            |   56.89 |    31.25 |   83.33 |   81.08 |                                                                                                             
  npc.ts                                              |   56.89 |    31.25 |   83.33 |   81.08 | 234-236,252-258                                                                                             
------------------------------------------------------|---------|----------|---------|---------|-------------------------------------------------------------------------------------------------------------

Test Suites: 221 passed, 221 total
Tests:       1 skipped, 3391 passed, 3392 total
Snapshots:   0 total
Time:        59.45 s
Ran all test suites.
=== JEST GLOBAL TEARDOWN ===
Stopped in-memory MongoDB server
=== JEST GLOBAL TEARDOWN COMPLETE ===
